{"ast":null,"code":"import _classCallCheck from \"E:/integrate cloud/uppy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"E:/integrate cloud/uppy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"E:/integrate cloud/uppy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"E:/integrate cloud/uppy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"E:/integrate cloud/uppy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { UIPlugin } from '@uppy/core';\nimport { Provider } from '@uppy/companion-client';\nimport { ProviderViews } from '@uppy/provider-views';\nimport { h } from 'preact';\nvar packageJson = {\n  \"version\": \"3.0.1\"\n};\nimport locale from './locale.js';\nvar Dropbox = /*#__PURE__*/function (_UIPlugin) {\n  _inherits(Dropbox, _UIPlugin);\n  var _super = _createSuper(Dropbox);\n  function Dropbox(uppy, opts) {\n    var _this;\n    _classCallCheck(this, Dropbox);\n    _this = _super.call(this, uppy, opts);\n    _this.id = _this.opts.id || 'Dropbox';\n    Provider.initPlugin(_assertThisInitialized(_this), opts);\n    _this.title = _this.opts.title || 'Dropbox';\n    _this.icon = function () {\n      return h(\"svg\", {\n        \"aria-hidden\": \"true\",\n        focusable: \"false\",\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 32 32\"\n      }, h(\"g\", {\n        fill: \"none\",\n        fillRule: \"evenodd\"\n      }, h(\"rect\", {\n        className: \"uppy-ProviderIconBg\",\n        fill: \"#0D2481\",\n        width: \"32\",\n        height: \"32\",\n        rx: \"16\"\n      }), h(\"path\", {\n        d: \"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z\",\n        fill: \"#FFF\",\n        fillRule: \"nonzero\"\n      })));\n    };\n    _this.provider = new Provider(uppy, {\n      companionUrl: _this.opts.companionUrl,\n      companionHeaders: _this.opts.companionHeaders,\n      companionKeysParams: _this.opts.companionKeysParams,\n      companionCookiesRule: _this.opts.companionCookiesRule,\n      provider: 'dropbox',\n      pluginId: _this.id\n    });\n    _this.defaultLocale = locale;\n    _this.i18nInit();\n    _this.title = _this.i18n('pluginNameDropbox');\n    _this.onFirstRender = _this.onFirstRender.bind(_assertThisInitialized(_this));\n    _this.render = _this.render.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(Dropbox, [{\n    key: \"install\",\n    value: function install() {\n      this.view = new ProviderViews(this, {\n        provider: this.provider\n      });\n      var target = this.opts.target;\n      if (target) {\n        this.mount(target, this);\n      }\n    }\n  }, {\n    key: \"uninstall\",\n    value: function uninstall() {\n      this.view.tearDown();\n      this.unmount();\n    }\n  }, {\n    key: \"onFirstRender\",\n    value: function onFirstRender() {\n      return Promise.all([this.provider.fetchPreAuthToken(), this.view.getFolder()]);\n    }\n  }, {\n    key: \"render\",\n    value: function render(state) {\n      return this.view.render(state);\n    }\n  }]);\n  return Dropbox;\n}(UIPlugin);\nexport { Dropbox as default };\nDropbox.VERSION = packageJson.version;","map":{"version":3,"names":["UIPlugin","Provider","ProviderViews","h","packageJson","locale","Dropbox","_UIPlugin","_inherits","_super","_createSuper","uppy","opts","_this","_classCallCheck","call","id","initPlugin","_assertThisInitialized","title","icon","focusable","width","height","viewBox","fill","fillRule","className","rx","d","provider","companionUrl","companionHeaders","companionKeysParams","companionCookiesRule","pluginId","defaultLocale","i18nInit","i18n","onFirstRender","bind","render","_createClass","key","value","install","view","target","mount","uninstall","tearDown","unmount","Promise","all","fetchPreAuthToken","getFolder","state","default","VERSION","version"],"sources":["E:/integrate cloud/uppy/node_modules/@uppy/dropbox/lib/Dropbox.js"],"sourcesContent":["import { UIPlugin } from '@uppy/core';\nimport { Provider } from '@uppy/companion-client';\nimport { ProviderViews } from '@uppy/provider-views';\nimport { h } from 'preact';\nconst packageJson = {\n  \"version\": \"3.0.1\"\n};\nimport locale from './locale.js';\nexport default class Dropbox extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n    this.id = this.opts.id || 'Dropbox';\n    Provider.initPlugin(this, opts);\n    this.title = this.opts.title || 'Dropbox';\n\n    this.icon = () => h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      width: \"32\",\n      height: \"32\",\n      viewBox: \"0 0 32 32\"\n    }, h(\"g\", {\n      fill: \"none\",\n      fillRule: \"evenodd\"\n    }, h(\"rect\", {\n      className: \"uppy-ProviderIconBg\",\n      fill: \"#0D2481\",\n      width: \"32\",\n      height: \"32\",\n      rx: \"16\"\n    }), h(\"path\", {\n      d: \"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z\",\n      fill: \"#FFF\",\n      fillRule: \"nonzero\"\n    })));\n\n    this.provider = new Provider(uppy, {\n      companionUrl: this.opts.companionUrl,\n      companionHeaders: this.opts.companionHeaders,\n      companionKeysParams: this.opts.companionKeysParams,\n      companionCookiesRule: this.opts.companionCookiesRule,\n      provider: 'dropbox',\n      pluginId: this.id\n    });\n    this.defaultLocale = locale;\n    this.i18nInit();\n    this.title = this.i18n('pluginNameDropbox');\n    this.onFirstRender = this.onFirstRender.bind(this);\n    this.render = this.render.bind(this);\n  }\n\n  install() {\n    this.view = new ProviderViews(this, {\n      provider: this.provider\n    });\n    const {\n      target\n    } = this.opts;\n\n    if (target) {\n      this.mount(target, this);\n    }\n  }\n\n  uninstall() {\n    this.view.tearDown();\n    this.unmount();\n  }\n\n  onFirstRender() {\n    return Promise.all([this.provider.fetchPreAuthToken(), this.view.getFolder()]);\n  }\n\n  render(state) {\n    return this.view.render(state);\n  }\n\n}\nDropbox.VERSION = packageJson.version;"],"mappings":"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"},"metadata":{},"sourceType":"module"}