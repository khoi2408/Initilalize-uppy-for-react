{"ast":null,"code":"import _toConsumableArray from \"E:/integrate cloud/uppy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nvar _jsxFileName = \"E:\\\\integrate cloud\\\\uppy\\\\src\\\\App.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport Uppy from \"@uppy/core\";\nimport { Dashboard } from \"@uppy/react\";\nimport \"@uppy/core/dist/style.css\";\nimport \"@uppy/dashboard/dist/style.css\";\nimport \"@uppy/url/dist/style.css\";\nimport GoogleDrive from \"@uppy/google-drive\";\nimport OneDrive from \"@uppy/onedrive\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Transloadit = require(\"@uppy/transloadit\");\n// import ImageEditor from \"@uppy/image-editor\";\n\nvar App = function App() {\n  _s();\n  var uppy = React.useMemo(function () {\n    return new Uppy().use(GoogleDrive, {\n      companionUrl: Transloadit.COMPANION,\n      companionAllowedHosts: Transloadit.COMPANION_PATTERN\n    }).use(OneDrive, {\n      companionUrl: Transloadit.COMPANION,\n      companionAllowedHosts: Transloadit.COMPANION_PATTERN\n    });\n    // .use(ImageEditor, { target: Dashboard });\n  }, []);\n  uppy.on(\"upload\", function (data) {\n    console.log(\"upload started\", data);\n  });\n  uppy.on(\"complete\", function (result) {\n    var successful = result.successful,\n      failed = result.failed;\n    if (successful.length > 0) {\n      var imgList = _toConsumableArray(new Array(successful.length));\n      successful.forEach(function (file) {\n        var img = new Image();\n        img.width = 300;\n        img.alt = file.name;\n        img.src = result.preview;\n        document.body.appendChild(img);\n      });\n    }\n    if (failed.length > 0) {\n      console.error(\"Failed uploads:\");\n      failed.forEach(function (file) {\n        console.error(file.error);\n      });\n    }\n  });\n  var handleClick = function handleClick() {\n    uppy.upload().then(function (result) {\n      console.info(\"Successful uploads:\", result);\n      var successful = result.successful,\n        failed = result.failed;\n      if (successful.length > 0) {\n        console.info(\"Successful uploads:\", result.successful);\n      }\n      if (failed.length > 0) {\n        console.error(\"Failed uploads:\");\n        failed.forEach(function (file) {\n          console.error(file.error);\n        });\n      }\n    });\n  };\n  React.useEffect(function () {\n    return function () {\n      return uppy.close();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClick,\n      children: \"Click\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Dashboard, {\n      uppy: uppy,\n      width: \"100%\",\n      plugins: [\"GoogleDrive\", \"OneDrive\", \"ImageEditor\"],\n      metaFields: [{\n        id: \"name\",\n        name: \"Tên File\",\n        placeholder: \"File name\"\n      }, {\n        id: \"caption\",\n        name: \"Caption\",\n        placeholder: \"add description\"\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, _this);\n};\n_s(App, \"f0B9KCRrMypNc2DqNRXBTwWQxZE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Uppy","Dashboard","GoogleDrive","OneDrive","jsxDEV","_jsxDEV","Transloadit","require","App","_s","uppy","useMemo","use","companionUrl","COMPANION","companionAllowedHosts","COMPANION_PATTERN","on","data","console","log","result","successful","failed","length","imgList","_toConsumableArray","Array","forEach","file","img","Image","width","alt","name","src","preview","document","body","appendChild","error","handleClick","upload","then","info","useEffect","close","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_this","plugins","metaFields","id","placeholder","_c","$RefreshReg$"],"sources":["E:/integrate cloud/uppy/src/App.js"],"sourcesContent":["import React from \"react\";\nimport Uppy from \"@uppy/core\";\nimport { Dashboard } from \"@uppy/react\";\nimport \"@uppy/core/dist/style.css\";\nimport \"@uppy/dashboard/dist/style.css\";\nimport \"@uppy/url/dist/style.css\";\nimport GoogleDrive from \"@uppy/google-drive\";\nimport OneDrive from \"@uppy/onedrive\";\nconst Transloadit = require(\"@uppy/transloadit\");\n// import ImageEditor from \"@uppy/image-editor\";\n\nconst App = () => {\n  const uppy = React.useMemo(() => {\n    return new Uppy()\n      .use(GoogleDrive, {\n        companionUrl: Transloadit.COMPANION,\n        companionAllowedHosts: Transloadit.COMPANION_PATTERN,\n      })\n      .use(OneDrive, {\n        companionUrl: Transloadit.COMPANION,\n        companionAllowedHosts: Transloadit.COMPANION_PATTERN,\n      });\n    // .use(ImageEditor, { target: Dashboard });\n  }, []);\n  uppy.on(\"upload\", (data) => {\n    console.log(\"upload started\", data);\n  });\n\n  uppy.on(\"complete\", (result) => {\n    const { successful, failed } = result;\n    if (successful.length > 0) {\n      const imgList = [...new Array(successful.length)];\n      successful.forEach((file) => {\n        const img = new Image();\n        img.width = 300;\n        img.alt = file.name;\n        img.src = result.preview;\n        document.body.appendChild(img);\n      });\n    }\n\n    if (failed.length > 0) {\n      console.error(\"Failed uploads:\");\n      failed.forEach((file) => {\n        console.error(file.error);\n      });\n    }\n  });\n\n  const handleClick = () => {\n    uppy.upload().then((result) => {\n      console.info(\"Successful uploads:\", result);\n      const { successful, failed } = result;\n      if (successful.length > 0) {\n        console.info(\"Successful uploads:\", result.successful);\n      }\n\n      if (failed.length > 0) {\n        console.error(\"Failed uploads:\");\n        failed.forEach((file) => {\n          console.error(file.error);\n        });\n      }\n    });\n  };\n\n  React.useEffect(() => {\n    return () => uppy.close();\n  }, []);\n\n  return (\n    <div>\n      <button onClick={handleClick}>Click</button>\n      <Dashboard\n        uppy={uppy}\n        width=\"100%\"\n        plugins={[\"GoogleDrive\", \"OneDrive\", \"ImageEditor\"]}\n        metaFields={[\n          { id: \"name\", name: \"Tên File\", placeholder: \"File name\" },\n          { id: \"caption\", name: \"Caption\", placeholder: \"add description\" },\n        ]}\n      />\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}