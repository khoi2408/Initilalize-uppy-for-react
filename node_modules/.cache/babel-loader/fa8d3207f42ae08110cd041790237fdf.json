{"ast":null,"code":"import _toConsumableArray from \"E:/integrate cloud/uppy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { h } from 'preact';\nimport classNames from 'classnames';\nimport remoteFileObjToLocal from '@uppy/utils/lib/remoteFileObjToLocal';\nimport Filter from \"./Filter.js\";\nimport FooterActions from \"./FooterActions.js\";\nimport Item from \"./Item/index.js\";\nvar VIRTUAL_SHARED_DIR = 'shared-with-me';\nfunction Browser(props) {\n  var currentSelection = props.currentSelection,\n    folders = props.folders,\n    files = props.files,\n    uppyFiles = props.uppyFiles,\n    viewType = props.viewType,\n    headerComponent = props.headerComponent,\n    showBreadcrumbs = props.showBreadcrumbs,\n    isChecked = props.isChecked,\n    _toggleCheckbox = props.toggleCheckbox,\n    recordShiftKeyPress = props.recordShiftKeyPress,\n    handleScroll = props.handleScroll,\n    showTitles = props.showTitles,\n    i18n = props.i18n,\n    validateRestrictions = props.validateRestrictions,\n    showFilter = props.showFilter,\n    filterQuery = props.filterQuery,\n    filterInput = props.filterInput,\n    getNextFolder = props.getNextFolder,\n    cancel = props.cancel,\n    done = props.done,\n    columns = props.columns;\n  var selected = currentSelection.length;\n  return h(\"div\", {\n    className: classNames('uppy-ProviderBrowser', \"uppy-ProviderBrowser-viewType--\".concat(viewType))\n  }, h(\"div\", {\n    className: \"uppy-ProviderBrowser-header\"\n  }, h(\"div\", {\n    className: classNames('uppy-ProviderBrowser-headerBar', !showBreadcrumbs && 'uppy-ProviderBrowser-headerBar--simple')\n  }, headerComponent)), showFilter && h(Filter, {\n    i18n: i18n,\n    filterQuery: filterQuery,\n    filterInput: filterInput\n  }), function () {\n    if (!folders.length && !files.length) {\n      return h(\"div\", {\n        className: \"uppy-Provider-empty\"\n      }, i18n('noFilesFound'));\n    }\n    return h(\"div\", {\n      className: \"uppy-ProviderBrowser-body\"\n    }, h(\"ul\", {\n      className: \"uppy-ProviderBrowser-list\",\n      onScroll: handleScroll,\n      role: \"listbox\" // making <ul> not focusable for firefox\n      ,\n\n      tabIndex: \"-1\"\n    }, folders.map(function (folder) {\n      var _isChecked;\n      return Item({\n        columns: columns,\n        showTitles: showTitles,\n        viewType: viewType,\n        i18n: i18n,\n        id: folder.id,\n        title: folder.name,\n        getItemIcon: function getItemIcon() {\n          return folder.icon;\n        },\n        isChecked: isChecked(folder),\n        toggleCheckbox: function toggleCheckbox(event) {\n          return _toggleCheckbox(event, folder);\n        },\n        recordShiftKeyPress: recordShiftKeyPress,\n        type: 'folder',\n        isDisabled: (_isChecked = isChecked(folder)) == null ? void 0 : _isChecked.loading,\n        isCheckboxDisabled: folder.id === VIRTUAL_SHARED_DIR,\n        handleFolderClick: function handleFolderClick() {\n          return getNextFolder(folder);\n        }\n      });\n    }), files.map(function (file) {\n      var restrictionError = validateRestrictions(remoteFileObjToLocal(file), [].concat(_toConsumableArray(uppyFiles), _toConsumableArray(currentSelection)));\n      return Item({\n        id: file.id,\n        title: file.name,\n        author: file.author,\n        getItemIcon: function getItemIcon() {\n          return file.icon;\n        },\n        isChecked: isChecked(file),\n        toggleCheckbox: function toggleCheckbox(event) {\n          return _toggleCheckbox(event, file);\n        },\n        recordShiftKeyPress: recordShiftKeyPress,\n        columns: columns,\n        showTitles: showTitles,\n        viewType: viewType,\n        i18n: i18n,\n        type: 'file',\n        isDisabled: restrictionError && !isChecked(file),\n        restrictionError: restrictionError\n      });\n    })));\n  }(), selected > 0 && h(FooterActions, {\n    selected: selected,\n    done: done,\n    cancel: cancel,\n    i18n: i18n\n  }));\n}\nexport default Browser;","map":{"version":3,"names":["h","classNames","remoteFileObjToLocal","Filter","FooterActions","Item","VIRTUAL_SHARED_DIR","Browser","props","currentSelection","folders","files","uppyFiles","viewType","headerComponent","showBreadcrumbs","isChecked","toggleCheckbox","recordShiftKeyPress","handleScroll","showTitles","i18n","validateRestrictions","showFilter","filterQuery","filterInput","getNextFolder","cancel","done","columns","selected","length","className","concat","onScroll","role","tabIndex","map","folder","_isChecked","id","title","name","getItemIcon","icon","event","type","isDisabled","loading","isCheckboxDisabled","handleFolderClick","file","restrictionError","_toConsumableArray","author"],"sources":["E:/integrate cloud/uppy/node_modules/@uppy/dropbox/node_modules/@uppy/provider-views/lib/Browser.js"],"sourcesContent":["import { h } from 'preact';\nimport classNames from 'classnames';\nimport remoteFileObjToLocal from '@uppy/utils/lib/remoteFileObjToLocal';\nimport Filter from \"./Filter.js\";\nimport FooterActions from \"./FooterActions.js\";\nimport Item from \"./Item/index.js\";\nconst VIRTUAL_SHARED_DIR = 'shared-with-me';\n\nfunction Browser(props) {\n  const {\n    currentSelection,\n    folders,\n    files,\n    uppyFiles,\n    viewType,\n    headerComponent,\n    showBreadcrumbs,\n    isChecked,\n    toggleCheckbox,\n    recordShiftKeyPress,\n    handleScroll,\n    showTitles,\n    i18n,\n    validateRestrictions,\n    showFilter,\n    filterQuery,\n    filterInput,\n    getNextFolder,\n    cancel,\n    done,\n    columns\n  } = props;\n  const selected = currentSelection.length;\n  return h(\"div\", {\n    className: classNames('uppy-ProviderBrowser', `uppy-ProviderBrowser-viewType--${viewType}`)\n  }, h(\"div\", {\n    className: \"uppy-ProviderBrowser-header\"\n  }, h(\"div\", {\n    className: classNames('uppy-ProviderBrowser-headerBar', !showBreadcrumbs && 'uppy-ProviderBrowser-headerBar--simple')\n  }, headerComponent)), showFilter && h(Filter, {\n    i18n: i18n,\n    filterQuery: filterQuery,\n    filterInput: filterInput\n  }), (() => {\n    if (!folders.length && !files.length) {\n      return h(\"div\", {\n        className: \"uppy-Provider-empty\"\n      }, i18n('noFilesFound'));\n    }\n\n    return h(\"div\", {\n      className: \"uppy-ProviderBrowser-body\"\n    }, h(\"ul\", {\n      className: \"uppy-ProviderBrowser-list\",\n      onScroll: handleScroll,\n      role: \"listbox\" // making <ul> not focusable for firefox\n      ,\n      tabIndex: \"-1\"\n    }, folders.map(folder => {\n      var _isChecked;\n\n      return Item({\n        columns,\n        showTitles,\n        viewType,\n        i18n,\n        id: folder.id,\n        title: folder.name,\n        getItemIcon: () => folder.icon,\n        isChecked: isChecked(folder),\n        toggleCheckbox: event => toggleCheckbox(event, folder),\n        recordShiftKeyPress,\n        type: 'folder',\n        isDisabled: (_isChecked = isChecked(folder)) == null ? void 0 : _isChecked.loading,\n        isCheckboxDisabled: folder.id === VIRTUAL_SHARED_DIR,\n        handleFolderClick: () => getNextFolder(folder)\n      });\n    }), files.map(file => {\n      const restrictionError = validateRestrictions(remoteFileObjToLocal(file), [...uppyFiles, ...currentSelection]);\n      return Item({\n        id: file.id,\n        title: file.name,\n        author: file.author,\n        getItemIcon: () => file.icon,\n        isChecked: isChecked(file),\n        toggleCheckbox: event => toggleCheckbox(event, file),\n        recordShiftKeyPress,\n        columns,\n        showTitles,\n        viewType,\n        i18n,\n        type: 'file',\n        isDisabled: restrictionError && !isChecked(file),\n        restrictionError\n      });\n    })));\n  })(), selected > 0 && h(FooterActions, {\n    selected: selected,\n    done: done,\n    cancel: cancel,\n    i18n: i18n\n  }));\n}\n\nexport default Browser;"],"mappings":"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"},"metadata":{},"sourceType":"module"}