{"ast":null,"code":"var _class, _temp;\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nvar _require = require('preact'),\n  h = _require.h;\nvar SearchInput = require('./InputView');\nvar Browser = require('../Browser');\nvar LoaderView = require('../Loader');\nvar generateFileID = require('@uppy/utils/lib/generateFileID');\nvar getFileType = require('@uppy/utils/lib/getFileType');\nvar isPreviewSupported = require('@uppy/utils/lib/isPreviewSupported');\nvar Header = require('./Header');\nvar SharedHandler = require('../SharedHandler');\nvar CloseWrapper = require('../CloseWrapper');\n/**\n * Class to easily generate generic views for Provider plugins\n */\n\nmodule.exports = (_temp = _class = /*#__PURE__*/function () {\n  /**\n   * @param {object} plugin instance of the plugin\n   * @param {object} opts\n   */\n  function ProviderView(plugin, opts) {\n    this.plugin = plugin;\n    this.provider = opts.provider;\n    this._sharedHandler = new SharedHandler(plugin); // set default options\n\n    var defaultOptions = {\n      viewType: 'grid',\n      showTitles: false,\n      showFilter: false,\n      showBreadcrumbs: false\n    }; // merge default options with the ones set by user\n\n    this.opts = _extends({}, defaultOptions, opts); // Logic\n\n    this.search = this.search.bind(this);\n    this.triggerSearchInput = this.triggerSearchInput.bind(this);\n    this.addFile = this.addFile.bind(this);\n    this.preFirstRender = this.preFirstRender.bind(this);\n    this.handleError = this.handleError.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n    this.donePicking = this.donePicking.bind(this);\n    this.cancelPicking = this.cancelPicking.bind(this);\n    this.clearSelection = this.clearSelection.bind(this); // Visual\n\n    this.render = this.render.bind(this);\n    this.clearSelection(); // Set default state for the plugin\n\n    this.plugin.setPluginState({\n      isInputMode: true,\n      files: [],\n      folders: [],\n      directories: [],\n      filterInput: '',\n      isSearchVisible: false\n    });\n  }\n  var _proto = ProviderView.prototype;\n  _proto.tearDown = function tearDown() {// Nothing.\n  };\n  _proto._updateFilesAndInputMode = function _updateFilesAndInputMode(res, files) {\n    this.nextPageQuery = res.nextPageQuery;\n    this._searchTerm = res.searchedFor;\n    res.items.forEach(function (item) {\n      files.push(item);\n    });\n    this.plugin.setPluginState({\n      isInputMode: false,\n      files: files\n    });\n  }\n  /**\n   * Called only the first time the provider view is rendered.\n   * Kind of like an init function.\n   */;\n\n  _proto.preFirstRender = function preFirstRender() {\n    this.plugin.setPluginState({\n      didFirstRender: true\n    });\n    this.plugin.onFirstRender();\n  };\n  _proto.search = function search(query) {\n    var _this = this;\n    if (query && query === this._searchTerm) {\n      // no need to search again as this is the same as the previous search\n      this.plugin.setPluginState({\n        isInputMode: false\n      });\n      return;\n    }\n    return this._sharedHandler.loaderWrapper(this.provider.search(query), function (res) {\n      _this._updateFilesAndInputMode(res, []);\n    }, this.handleError);\n  };\n  _proto.triggerSearchInput = function triggerSearchInput() {\n    this.plugin.setPluginState({\n      isInputMode: true\n    });\n  } // @todo this function should really be a function of the plugin and not the view.\n  // maybe we should consider creating a base ProviderPlugin class that has this method\n  ;\n\n  _proto.addFile = function addFile(file) {\n    var tagFile = {\n      id: this.providerFileToId(file),\n      source: this.plugin.id,\n      data: file,\n      name: file.name || file.id,\n      type: file.mimeType,\n      isRemote: true,\n      body: {\n        fileId: file.id\n      },\n      remote: {\n        companionUrl: this.plugin.opts.companionUrl,\n        url: \"\" + this.provider.fileUrl(file.requestPath),\n        body: {\n          fileId: file.id\n        },\n        providerOptions: _extends({}, this.provider.opts, {\n          provider: null\n        })\n      }\n    };\n    var fileType = getFileType(tagFile); // TODO Should we just always use the thumbnail URL if it exists?\n\n    if (fileType && isPreviewSupported(fileType)) {\n      tagFile.preview = file.thumbnail;\n    }\n    this.plugin.uppy.log('Adding remote file');\n    try {\n      this.plugin.uppy.addFile(tagFile);\n    } catch (err) {\n      if (!err.isRestriction) {\n        this.plugin.uppy.log(err);\n      }\n    }\n  };\n  _proto.providerFileToId = function providerFileToId(file) {\n    return generateFileID({\n      data: file,\n      name: file.name || file.id,\n      type: file.mimeType\n    });\n  };\n  _proto.handleError = function handleError(error) {\n    var uppy = this.plugin.uppy;\n    uppy.log(error.toString());\n    var message = uppy.i18n('companionError');\n    uppy.info({\n      message: message,\n      details: error.toString()\n    }, 'error', 5000);\n  };\n  _proto.handleScroll = function handleScroll(e) {\n    var _this2 = this;\n    var scrollPos = e.target.scrollHeight - (e.target.scrollTop + e.target.offsetHeight);\n    var query = this.nextPageQuery || null;\n    if (scrollPos < 50 && query && !this._isHandlingScroll) {\n      this.provider.search(this._searchTerm, query).then(function (res) {\n        var _this2$plugin$getPlug = _this2.plugin.getPluginState(),\n          files = _this2$plugin$getPlug.files;\n        _this2._updateFilesAndInputMode(res, files);\n      }).catch(this.handleError).then(function () {\n        _this2._isHandlingScroll = false;\n      }); // always called\n\n      this._isHandlingScroll = true;\n    }\n  };\n  _proto.donePicking = function donePicking() {\n    var _this3 = this;\n    var _this$plugin$getPlugi = this.plugin.getPluginState(),\n      currentSelection = _this$plugin$getPlugi.currentSelection;\n    var promises = currentSelection.map(function (file) {\n      return _this3.addFile(file);\n    });\n    this._sharedHandler.loaderWrapper(Promise.all(promises), function () {\n      _this3.clearSelection();\n    }, function () {});\n  };\n  _proto.cancelPicking = function cancelPicking() {\n    this.clearSelection();\n    var dashboard = this.plugin.uppy.getPlugin('Dashboard');\n    if (dashboard) dashboard.hideAllPanels();\n  };\n  _proto.clearSelection = function clearSelection() {\n    this.plugin.setPluginState({\n      currentSelection: []\n    });\n  };\n  _proto.render = function render(state, viewOptions) {\n    if (viewOptions === void 0) {\n      viewOptions = {};\n    }\n    var _this$plugin$getPlugi2 = this.plugin.getPluginState(),\n      didFirstRender = _this$plugin$getPlugi2.didFirstRender,\n      isInputMode = _this$plugin$getPlugi2.isInputMode;\n    if (!didFirstRender) {\n      this.preFirstRender();\n    } // reload pluginState for \"loading\" attribute because it might\n    // have changed above.\n\n    if (this.plugin.getPluginState().loading) {\n      return h(CloseWrapper, {\n        onUnmount: this.clearSelection\n      }, h(LoaderView, {\n        i18n: this.plugin.uppy.i18n\n      }));\n    }\n    if (isInputMode) {\n      return h(CloseWrapper, {\n        onUnmount: this.clearSelection\n      }, h(SearchInput, {\n        search: this.search,\n        i18n: this.plugin.uppy.i18n\n      }));\n    }\n    var targetViewOptions = _extends({}, this.opts, viewOptions);\n    var browserProps = _extends({}, this.plugin.getPluginState(), {\n      isChecked: this._sharedHandler.isChecked,\n      toggleCheckbox: this._sharedHandler.toggleCheckbox,\n      handleScroll: this.handleScroll,\n      done: this.donePicking,\n      cancel: this.cancelPicking,\n      headerComponent: Header({\n        triggerSearchInput: this.triggerSearchInput,\n        i18n: this.plugin.uppy.i18n\n      }),\n      title: this.plugin.title,\n      viewType: targetViewOptions.viewType,\n      showTitles: targetViewOptions.showTitles,\n      showFilter: targetViewOptions.showFilter,\n      showBreadcrumbs: targetViewOptions.showBreadcrumbs,\n      pluginIcon: this.plugin.icon,\n      i18n: this.plugin.uppy.i18n,\n      uppyFiles: this.plugin.uppy.getFiles(),\n      validateRestrictions: this.plugin.uppy.validateRestrictions\n    });\n    return h(CloseWrapper, {\n      onUnmount: this.clearSelection\n    }, h(Browser, browserProps));\n  };\n  return ProviderView;\n}(), _class.VERSION = \"1.12.3\", _temp);","map":{"version":3,"names":["_class","_temp","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_require","require","h","SearchInput","Browser","LoaderView","generateFileID","getFileType","isPreviewSupported","Header","SharedHandler","CloseWrapper","module","exports","ProviderView","plugin","opts","provider","_sharedHandler","defaultOptions","viewType","showTitles","showFilter","showBreadcrumbs","search","bind","triggerSearchInput","addFile","preFirstRender","handleError","handleScroll","donePicking","cancelPicking","clearSelection","render","setPluginState","isInputMode","files","folders","directories","filterInput","isSearchVisible","_proto","tearDown","_updateFilesAndInputMode","res","nextPageQuery","_searchTerm","searchedFor","items","forEach","item","push","didFirstRender","onFirstRender","query","_this","loaderWrapper","file","tagFile","id","providerFileToId","data","name","type","mimeType","isRemote","body","fileId","remote","companionUrl","url","fileUrl","requestPath","providerOptions","fileType","preview","thumbnail","uppy","log","err","isRestriction","error","toString","message","i18n","info","details","e","_this2","scrollPos","scrollHeight","scrollTop","offsetHeight","_isHandlingScroll","then","_this2$plugin$getPlug","getPluginState","catch","_this3","_this$plugin$getPlugi","currentSelection","promises","map","Promise","all","dashboard","getPlugin","hideAllPanels","state","viewOptions","_this$plugin$getPlugi2","loading","onUnmount","targetViewOptions","browserProps","isChecked","toggleCheckbox","done","cancel","headerComponent","title","pluginIcon","icon","uppyFiles","getFiles","validateRestrictions","VERSION"],"sources":["E:/integrate cloud/uppy/node_modules/@uppy/provider-views/lib/SearchProviderView/SearchProviderView.js"],"sourcesContent":["var _class, _temp;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar _require = require('preact'),\n    h = _require.h;\n\nvar SearchInput = require('./InputView');\n\nvar Browser = require('../Browser');\n\nvar LoaderView = require('../Loader');\n\nvar generateFileID = require('@uppy/utils/lib/generateFileID');\n\nvar getFileType = require('@uppy/utils/lib/getFileType');\n\nvar isPreviewSupported = require('@uppy/utils/lib/isPreviewSupported');\n\nvar Header = require('./Header');\n\nvar SharedHandler = require('../SharedHandler');\n\nvar CloseWrapper = require('../CloseWrapper');\n/**\n * Class to easily generate generic views for Provider plugins\n */\n\n\nmodule.exports = (_temp = _class = /*#__PURE__*/function () {\n  /**\n   * @param {object} plugin instance of the plugin\n   * @param {object} opts\n   */\n  function ProviderView(plugin, opts) {\n    this.plugin = plugin;\n    this.provider = opts.provider;\n    this._sharedHandler = new SharedHandler(plugin); // set default options\n\n    var defaultOptions = {\n      viewType: 'grid',\n      showTitles: false,\n      showFilter: false,\n      showBreadcrumbs: false\n    }; // merge default options with the ones set by user\n\n    this.opts = _extends({}, defaultOptions, opts); // Logic\n\n    this.search = this.search.bind(this);\n    this.triggerSearchInput = this.triggerSearchInput.bind(this);\n    this.addFile = this.addFile.bind(this);\n    this.preFirstRender = this.preFirstRender.bind(this);\n    this.handleError = this.handleError.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n    this.donePicking = this.donePicking.bind(this);\n    this.cancelPicking = this.cancelPicking.bind(this);\n    this.clearSelection = this.clearSelection.bind(this); // Visual\n\n    this.render = this.render.bind(this);\n    this.clearSelection(); // Set default state for the plugin\n\n    this.plugin.setPluginState({\n      isInputMode: true,\n      files: [],\n      folders: [],\n      directories: [],\n      filterInput: '',\n      isSearchVisible: false\n    });\n  }\n\n  var _proto = ProviderView.prototype;\n\n  _proto.tearDown = function tearDown() {// Nothing.\n  };\n\n  _proto._updateFilesAndInputMode = function _updateFilesAndInputMode(res, files) {\n    this.nextPageQuery = res.nextPageQuery;\n    this._searchTerm = res.searchedFor;\n    res.items.forEach(function (item) {\n      files.push(item);\n    });\n    this.plugin.setPluginState({\n      isInputMode: false,\n      files: files\n    });\n  }\n  /**\n   * Called only the first time the provider view is rendered.\n   * Kind of like an init function.\n   */\n  ;\n\n  _proto.preFirstRender = function preFirstRender() {\n    this.plugin.setPluginState({\n      didFirstRender: true\n    });\n    this.plugin.onFirstRender();\n  };\n\n  _proto.search = function search(query) {\n    var _this = this;\n\n    if (query && query === this._searchTerm) {\n      // no need to search again as this is the same as the previous search\n      this.plugin.setPluginState({\n        isInputMode: false\n      });\n      return;\n    }\n\n    return this._sharedHandler.loaderWrapper(this.provider.search(query), function (res) {\n      _this._updateFilesAndInputMode(res, []);\n    }, this.handleError);\n  };\n\n  _proto.triggerSearchInput = function triggerSearchInput() {\n    this.plugin.setPluginState({\n      isInputMode: true\n    });\n  } // @todo this function should really be a function of the plugin and not the view.\n  // maybe we should consider creating a base ProviderPlugin class that has this method\n  ;\n\n  _proto.addFile = function addFile(file) {\n    var tagFile = {\n      id: this.providerFileToId(file),\n      source: this.plugin.id,\n      data: file,\n      name: file.name || file.id,\n      type: file.mimeType,\n      isRemote: true,\n      body: {\n        fileId: file.id\n      },\n      remote: {\n        companionUrl: this.plugin.opts.companionUrl,\n        url: \"\" + this.provider.fileUrl(file.requestPath),\n        body: {\n          fileId: file.id\n        },\n        providerOptions: _extends({}, this.provider.opts, {\n          provider: null\n        })\n      }\n    };\n    var fileType = getFileType(tagFile); // TODO Should we just always use the thumbnail URL if it exists?\n\n    if (fileType && isPreviewSupported(fileType)) {\n      tagFile.preview = file.thumbnail;\n    }\n\n    this.plugin.uppy.log('Adding remote file');\n\n    try {\n      this.plugin.uppy.addFile(tagFile);\n    } catch (err) {\n      if (!err.isRestriction) {\n        this.plugin.uppy.log(err);\n      }\n    }\n  };\n\n  _proto.providerFileToId = function providerFileToId(file) {\n    return generateFileID({\n      data: file,\n      name: file.name || file.id,\n      type: file.mimeType\n    });\n  };\n\n  _proto.handleError = function handleError(error) {\n    var uppy = this.plugin.uppy;\n    uppy.log(error.toString());\n    var message = uppy.i18n('companionError');\n    uppy.info({\n      message: message,\n      details: error.toString()\n    }, 'error', 5000);\n  };\n\n  _proto.handleScroll = function handleScroll(e) {\n    var _this2 = this;\n\n    var scrollPos = e.target.scrollHeight - (e.target.scrollTop + e.target.offsetHeight);\n    var query = this.nextPageQuery || null;\n\n    if (scrollPos < 50 && query && !this._isHandlingScroll) {\n      this.provider.search(this._searchTerm, query).then(function (res) {\n        var _this2$plugin$getPlug = _this2.plugin.getPluginState(),\n            files = _this2$plugin$getPlug.files;\n\n        _this2._updateFilesAndInputMode(res, files);\n      }).catch(this.handleError).then(function () {\n        _this2._isHandlingScroll = false;\n      }); // always called\n\n      this._isHandlingScroll = true;\n    }\n  };\n\n  _proto.donePicking = function donePicking() {\n    var _this3 = this;\n\n    var _this$plugin$getPlugi = this.plugin.getPluginState(),\n        currentSelection = _this$plugin$getPlugi.currentSelection;\n\n    var promises = currentSelection.map(function (file) {\n      return _this3.addFile(file);\n    });\n\n    this._sharedHandler.loaderWrapper(Promise.all(promises), function () {\n      _this3.clearSelection();\n    }, function () {});\n  };\n\n  _proto.cancelPicking = function cancelPicking() {\n    this.clearSelection();\n    var dashboard = this.plugin.uppy.getPlugin('Dashboard');\n    if (dashboard) dashboard.hideAllPanels();\n  };\n\n  _proto.clearSelection = function clearSelection() {\n    this.plugin.setPluginState({\n      currentSelection: []\n    });\n  };\n\n  _proto.render = function render(state, viewOptions) {\n    if (viewOptions === void 0) {\n      viewOptions = {};\n    }\n\n    var _this$plugin$getPlugi2 = this.plugin.getPluginState(),\n        didFirstRender = _this$plugin$getPlugi2.didFirstRender,\n        isInputMode = _this$plugin$getPlugi2.isInputMode;\n\n    if (!didFirstRender) {\n      this.preFirstRender();\n    } // reload pluginState for \"loading\" attribute because it might\n    // have changed above.\n\n\n    if (this.plugin.getPluginState().loading) {\n      return h(CloseWrapper, {\n        onUnmount: this.clearSelection\n      }, h(LoaderView, {\n        i18n: this.plugin.uppy.i18n\n      }));\n    }\n\n    if (isInputMode) {\n      return h(CloseWrapper, {\n        onUnmount: this.clearSelection\n      }, h(SearchInput, {\n        search: this.search,\n        i18n: this.plugin.uppy.i18n\n      }));\n    }\n\n    var targetViewOptions = _extends({}, this.opts, viewOptions);\n\n    var browserProps = _extends({}, this.plugin.getPluginState(), {\n      isChecked: this._sharedHandler.isChecked,\n      toggleCheckbox: this._sharedHandler.toggleCheckbox,\n      handleScroll: this.handleScroll,\n      done: this.donePicking,\n      cancel: this.cancelPicking,\n      headerComponent: Header({\n        triggerSearchInput: this.triggerSearchInput,\n        i18n: this.plugin.uppy.i18n\n      }),\n      title: this.plugin.title,\n      viewType: targetViewOptions.viewType,\n      showTitles: targetViewOptions.showTitles,\n      showFilter: targetViewOptions.showFilter,\n      showBreadcrumbs: targetViewOptions.showBreadcrumbs,\n      pluginIcon: this.plugin.icon,\n      i18n: this.plugin.uppy.i18n,\n      uppyFiles: this.plugin.uppy.getFiles(),\n      validateRestrictions: this.plugin.uppy.validateRestrictions\n    });\n\n    return h(CloseWrapper, {\n      onUnmount: this.clearSelection\n    }, h(Browser, browserProps));\n  };\n\n  return ProviderView;\n}(), _class.VERSION = \"1.12.3\", _temp);"],"mappings":"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"},"metadata":{},"sourceType":"script"}