{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\n/* eslint-disable max-classes-per-file */\nvar XHRHttpStack = /*#__PURE__*/function () {\n  function XHRHttpStack() {\n    _classCallCheck(this, XHRHttpStack);\n  }\n  _createClass(XHRHttpStack, [{\n    key: \"createRequest\",\n    value: function createRequest(method, url) {\n      return new Request(method, url);\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      return 'XHRHttpStack';\n    }\n  }]);\n  return XHRHttpStack;\n}();\nexport { XHRHttpStack as default };\nvar Request = /*#__PURE__*/function () {\n  function Request(method, url) {\n    _classCallCheck(this, Request);\n    this._xhr = new XMLHttpRequest();\n    this._xhr.open(method, url, true);\n    this._method = method;\n    this._url = url;\n    this._headers = {};\n  }\n  _createClass(Request, [{\n    key: \"getMethod\",\n    value: function getMethod() {\n      return this._method;\n    }\n  }, {\n    key: \"getURL\",\n    value: function getURL() {\n      return this._url;\n    }\n  }, {\n    key: \"setHeader\",\n    value: function setHeader(header, value) {\n      this._xhr.setRequestHeader(header, value);\n      this._headers[header] = value;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(header) {\n      return this._headers[header];\n    }\n  }, {\n    key: \"setProgressHandler\",\n    value: function setProgressHandler(progressHandler) {\n      // Test support for progress events before attaching an event listener\n      if (!('upload' in this._xhr)) {\n        return;\n      }\n      this._xhr.upload.onprogress = function (e) {\n        if (!e.lengthComputable) {\n          return;\n        }\n        progressHandler(e.loaded);\n      };\n    }\n  }, {\n    key: \"send\",\n    value: function send() {\n      var _this = this;\n      var body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      return new Promise(function (resolve, reject) {\n        _this._xhr.onload = function () {\n          resolve(new Response(_this._xhr));\n        };\n        _this._xhr.onerror = function (err) {\n          reject(err);\n        };\n        _this._xhr.send(body);\n      });\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      this._xhr.abort();\n      return Promise.resolve();\n    }\n  }, {\n    key: \"getUnderlyingObject\",\n    value: function getUnderlyingObject() {\n      return this._xhr;\n    }\n  }]);\n  return Request;\n}();\nvar Response = /*#__PURE__*/function () {\n  function Response(xhr) {\n    _classCallCheck(this, Response);\n    this._xhr = xhr;\n  }\n  _createClass(Response, [{\n    key: \"getStatus\",\n    value: function getStatus() {\n      return this._xhr.status;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(header) {\n      return this._xhr.getResponseHeader(header);\n    }\n  }, {\n    key: \"getBody\",\n    value: function getBody() {\n      return this._xhr.responseText;\n    }\n  }, {\n    key: \"getUnderlyingObject\",\n    value: function getUnderlyingObject() {\n      return this._xhr;\n    }\n  }]);\n  return Response;\n}();","map":{"version":3,"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","XHRHttpStack","value","createRequest","method","url","Request","getName","default","_xhr","XMLHttpRequest","open","_method","_url","_headers","getMethod","getURL","setHeader","header","setRequestHeader","getHeader","setProgressHandler","progressHandler","upload","onprogress","e","lengthComputable","loaded","send","_this","body","arguments","undefined","Promise","resolve","reject","onload","Response","onerror","err","abort","getUnderlyingObject","xhr","getStatus","status","getResponseHeader","getBody","responseText"],"sources":["E:/integrate cloud/uppy/node_modules/tus-js-client/lib.esm/browser/httpStack.js"],"sourcesContent":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* eslint-disable max-classes-per-file */\nvar XHRHttpStack = /*#__PURE__*/function () {\n  function XHRHttpStack() {\n    _classCallCheck(this, XHRHttpStack);\n  }\n\n  _createClass(XHRHttpStack, [{\n    key: \"createRequest\",\n    value: function createRequest(method, url) {\n      return new Request(method, url);\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      return 'XHRHttpStack';\n    }\n  }]);\n\n  return XHRHttpStack;\n}();\n\nexport { XHRHttpStack as default };\n\nvar Request = /*#__PURE__*/function () {\n  function Request(method, url) {\n    _classCallCheck(this, Request);\n\n    this._xhr = new XMLHttpRequest();\n\n    this._xhr.open(method, url, true);\n\n    this._method = method;\n    this._url = url;\n    this._headers = {};\n  }\n\n  _createClass(Request, [{\n    key: \"getMethod\",\n    value: function getMethod() {\n      return this._method;\n    }\n  }, {\n    key: \"getURL\",\n    value: function getURL() {\n      return this._url;\n    }\n  }, {\n    key: \"setHeader\",\n    value: function setHeader(header, value) {\n      this._xhr.setRequestHeader(header, value);\n\n      this._headers[header] = value;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(header) {\n      return this._headers[header];\n    }\n  }, {\n    key: \"setProgressHandler\",\n    value: function setProgressHandler(progressHandler) {\n      // Test support for progress events before attaching an event listener\n      if (!('upload' in this._xhr)) {\n        return;\n      }\n\n      this._xhr.upload.onprogress = function (e) {\n        if (!e.lengthComputable) {\n          return;\n        }\n\n        progressHandler(e.loaded);\n      };\n    }\n  }, {\n    key: \"send\",\n    value: function send() {\n      var _this = this;\n\n      var body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      return new Promise(function (resolve, reject) {\n        _this._xhr.onload = function () {\n          resolve(new Response(_this._xhr));\n        };\n\n        _this._xhr.onerror = function (err) {\n          reject(err);\n        };\n\n        _this._xhr.send(body);\n      });\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      this._xhr.abort();\n\n      return Promise.resolve();\n    }\n  }, {\n    key: \"getUnderlyingObject\",\n    value: function getUnderlyingObject() {\n      return this._xhr;\n    }\n  }]);\n\n  return Request;\n}();\n\nvar Response = /*#__PURE__*/function () {\n  function Response(xhr) {\n    _classCallCheck(this, Response);\n\n    this._xhr = xhr;\n  }\n\n  _createClass(Response, [{\n    key: \"getStatus\",\n    value: function getStatus() {\n      return this._xhr.status;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(header) {\n      return this._xhr.getResponseHeader(header);\n    }\n  }, {\n    key: \"getBody\",\n    value: function getBody() {\n      return this._xhr.responseText;\n    }\n  }, {\n    key: \"getUnderlyingObject\",\n    value: function getUnderlyingObject() {\n      return this._xhr;\n    }\n  }]);\n\n  return Response;\n}();"],"mappings":"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"},"metadata":{},"sourceType":"module"}