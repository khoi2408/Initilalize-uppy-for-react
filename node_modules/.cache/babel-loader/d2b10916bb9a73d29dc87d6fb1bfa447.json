{"ast":null,"code":"import _regeneratorRuntime from \"E:/integrate cloud/uppy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"E:/integrate cloud/uppy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"E:/integrate cloud/uppy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"E:/integrate cloud/uppy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"E:/integrate cloud/uppy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"E:/integrate cloud/uppy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"E:/integrate cloud/uppy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"E:/integrate cloud/uppy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nfunction _classPrivateFieldLooseBase(receiver, privateKey) {\n  if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n    throw new TypeError(\"attempted to use private field on non-instance\");\n  }\n  return receiver;\n}\nvar id = 0;\nfunction _classPrivateFieldLooseKey(name) {\n  return \"__private_\" + id++ + \"_\" + name;\n}\nimport { h } from 'preact';\nimport AuthView from \"./AuthView.js\";\nimport Header from \"./Header.js\";\nimport Browser from \"../Browser.js\";\nimport LoaderView from \"../Loader.js\";\nimport CloseWrapper from '../CloseWrapper.js';\nimport View from '../View.js';\nvar packageJson = {\n  \"version\": \"3.0.2\"\n};\nfunction getOrigin() {\n  // eslint-disable-next-line no-restricted-globals\n  return location.origin;\n}\nfunction getRegex(value) {\n  if (typeof value === 'string') {\n    return new RegExp(\"^\".concat(value, \"$\"));\n  }\n  if (value instanceof RegExp) {\n    return value;\n  }\n  return undefined;\n}\nfunction isOriginAllowed(origin, allowedOrigin) {\n  var patterns = Array.isArray(allowedOrigin) ? allowedOrigin.map(getRegex) : [getRegex(allowedOrigin)];\n  return patterns.some(function (pattern) {\n    return (pattern == null ? void 0 : pattern.test(origin)) || (pattern == null ? void 0 : pattern.test(\"\".concat(origin, \"/\")));\n  }); // allowing for trailing '/'\n}\n/**\n * Class to easily generate generic views for Provider plugins\n */\n\nvar _updateFilesAndFolders = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateFilesAndFolders\");\nvar ProviderView = /*#__PURE__*/function (_View) {\n  _inherits(ProviderView, _View);\n  var _super = _createSuper(ProviderView);\n  /**\n   * @param {object} plugin instance of the plugin\n   * @param {object} opts\n   */\n  function ProviderView(plugin, opts) {\n    var _this2;\n    _classCallCheck(this, ProviderView);\n    _this2 = _super.call(this, plugin, opts); // set default options\n\n    Object.defineProperty(_assertThisInitialized(_this2), _updateFilesAndFolders, {\n      value: _updateFilesAndFolders2\n    });\n    var defaultOptions = {\n      viewType: 'list',\n      showTitles: true,\n      showFilter: true,\n      showBreadcrumbs: true\n    }; // merge default options with the ones set by user\n\n    _this2.opts = _objectSpread(_objectSpread({}, defaultOptions), opts); // Logic\n\n    _this2.filterQuery = _this2.filterQuery.bind(_assertThisInitialized(_this2));\n    _this2.getFolder = _this2.getFolder.bind(_assertThisInitialized(_this2));\n    _this2.getNextFolder = _this2.getNextFolder.bind(_assertThisInitialized(_this2));\n    _this2.logout = _this2.logout.bind(_assertThisInitialized(_this2));\n    _this2.handleAuth = _this2.handleAuth.bind(_assertThisInitialized(_this2));\n    _this2.handleScroll = _this2.handleScroll.bind(_assertThisInitialized(_this2));\n    _this2.listAllFiles = _this2.listAllFiles.bind(_assertThisInitialized(_this2));\n    _this2.donePicking = _this2.donePicking.bind(_assertThisInitialized(_this2)); // Visual\n\n    _this2.render = _this2.render.bind(_assertThisInitialized(_this2)); // Set default state for the plugin\n\n    _this2.plugin.setPluginState({\n      authenticated: false,\n      files: [],\n      folders: [],\n      directories: [],\n      filterInput: '',\n      isSearchVisible: false,\n      currentSelection: []\n    });\n    return _this2;\n  } // eslint-disable-next-line class-methods-use-this\n  _createClass(ProviderView, [{\n    key: \"tearDown\",\n    value: function tearDown() {// Nothing.\n    }\n\n    /**\n     * Based on folder ID, fetch a new folder and update it to state\n     *\n     * @param  {string} id Folder id\n     * @returns {Promise}   Folders/files in folder\n     */\n  }, {\n    key: \"getFolder\",\n    value: function getFolder(id, name) {\n      var _this3 = this;\n      return this.sharedHandler.loaderWrapper(this.provider.list(id), function (res) {\n        var folders = [];\n        var files = [];\n        var updatedDirectories;\n        var state = _this3.plugin.getPluginState();\n        var index = state.directories.findIndex(function (dir) {\n          return id === dir.id;\n        });\n        if (index !== -1) {\n          updatedDirectories = state.directories.slice(0, index + 1);\n        } else {\n          updatedDirectories = state.directories.concat([{\n            id: id,\n            title: name\n          }]);\n        }\n        _this3.username = res.username || _this3.username;\n        _classPrivateFieldLooseBase(_this3, _updateFilesAndFolders)[_updateFilesAndFolders](res, files, folders);\n        _this3.plugin.setPluginState({\n          directories: updatedDirectories,\n          filterInput: ''\n        });\n      }, this.handleError);\n    }\n    /**\n     * Fetches new folder\n     *\n     * @param  {object} folder\n     */\n  }, {\n    key: \"getNextFolder\",\n    value: function getNextFolder(folder) {\n      this.getFolder(folder.requestPath, folder.name);\n      this.lastCheckbox = undefined;\n    }\n    /**\n     * Removes session token on client side.\n     */\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      var _this4 = this;\n      this.provider.logout().then(function (res) {\n        if (res.ok) {\n          if (!res.revoked) {\n            var message = _this4.plugin.uppy.i18n('companionUnauthorizeHint', {\n              provider: _this4.plugin.title,\n              url: res.manual_revoke_url\n            });\n            _this4.plugin.uppy.info(message, 'info', 7000);\n          }\n          var newState = {\n            authenticated: false,\n            files: [],\n            folders: [],\n            directories: [],\n            filterInput: ''\n          };\n          _this4.plugin.setPluginState(newState);\n        }\n      }).catch(this.handleError);\n    }\n  }, {\n    key: \"filterQuery\",\n    value: function filterQuery(e) {\n      var state = this.plugin.getPluginState();\n      this.plugin.setPluginState(_objectSpread(_objectSpread({}, state), {}, {\n        filterInput: e ? e.target.value : ''\n      }));\n    }\n    /**\n     * Adds all files found inside of specified folder.\n     *\n     * Uses separated state while folder contents are being fetched and\n     * mantains list of selected folders, which are separated from files.\n     */\n  }, {\n    key: \"addFolder\",\n    value: function addFolder(folder) {\n      var _this5 = this;\n      var folderId = this.providerFileToId(folder);\n      var folders = _objectSpread({}, this.plugin.getPluginState().selectedFolders);\n      if (folderId in folders && folders[folderId].loading) {\n        return;\n      }\n      folders[folderId] = {\n        loading: true,\n        files: []\n      };\n      this.plugin.setPluginState({\n        selectedFolders: _objectSpread({}, folders)\n      }); // eslint-disable-next-line consistent-return\n\n      return this.listAllFiles(folder.requestPath).then(function (files) {\n        var count = 0; // If the same folder is added again, we don't want to send\n        // X amount of duplicate file notifications, we want to say\n        // the folder was already added. This checks if all files are duplicate,\n        // if that's the case, we don't add the files.\n\n        files.forEach(function (file) {\n          var id = _this5.providerFileToId(file);\n          if (!_this5.plugin.uppy.checkIfFileAlreadyExists(id)) {\n            count++;\n          }\n        });\n        if (count > 0) {\n          files.forEach(function (file) {\n            return _this5.addFile(file);\n          });\n        }\n        var ids = files.map(_this5.providerFileToId);\n        folders[folderId] = {\n          loading: false,\n          files: ids\n        };\n        _this5.plugin.setPluginState({\n          selectedFolders: folders,\n          filterInput: ''\n        });\n        var message;\n        if (count === 0) {\n          message = _this5.plugin.uppy.i18n('folderAlreadyAdded', {\n            folder: folder.name\n          });\n        } else if (files.length) {\n          message = _this5.plugin.uppy.i18n('folderAdded', {\n            smart_count: count,\n            folder: folder.name\n          });\n        } else {\n          message = _this5.plugin.uppy.i18n('emptyFolderAdded');\n        }\n        _this5.plugin.uppy.info(message);\n      }).catch(function (e) {\n        var selectedFolders = _objectSpread({}, _this5.plugin.getPluginState().selectedFolders);\n        delete selectedFolders[folderId];\n        _this5.plugin.setPluginState({\n          selectedFolders: selectedFolders\n        });\n        _this5.handleError(e);\n      });\n    }\n  }, {\n    key: \"handleAuth\",\n    value: function () {\n      var _handleAuth = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this6 = this;\n        var authState, clientVersion, link, authWindow, handleToken;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.provider.ensurePreAuth();\n            case 2:\n              authState = btoa(JSON.stringify({\n                origin: getOrigin()\n              }));\n              clientVersion = \"@uppy/provider-views=\".concat(ProviderView.VERSION);\n              link = this.provider.authUrl({\n                state: authState,\n                uppyVersions: clientVersion\n              });\n              authWindow = window.open(link, '_blank');\n              handleToken = function handleToken(e) {\n                if (e.source !== authWindow) {\n                  _this6.plugin.uppy.log('rejecting event from unknown source');\n                  return;\n                }\n                if (!isOriginAllowed(e.origin, _this6.plugin.opts.companionAllowedHosts) || e.source !== authWindow) {\n                  _this6.plugin.uppy.log(\"rejecting event from \".concat(e.origin, \" vs allowed pattern \").concat(_this6.plugin.opts.companionAllowedHosts));\n                } // Check if it's a string before doing the JSON.parse to maintain support\n                // for older Companion versions that used object references\n\n                var data = typeof e.data === 'string' ? JSON.parse(e.data) : e.data;\n                if (data.error) {\n                  _this6.plugin.uppy.log('auth aborted', 'warning');\n                  var uppy = _this6.plugin.uppy;\n                  var message = uppy.i18n('authAborted');\n                  uppy.info({\n                    message: message\n                  }, 'warning', 5000);\n                  return;\n                }\n                if (!data.token) {\n                  _this6.plugin.uppy.log('did not receive token from auth window', 'error');\n                  return;\n                }\n                authWindow.close();\n                window.removeEventListener('message', handleToken);\n                _this6.provider.setAuthToken(data.token);\n                _this6.preFirstRender();\n              };\n              window.addEventListener('message', handleToken);\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function handleAuth() {\n        return _handleAuth.apply(this, arguments);\n      }\n      return handleAuth;\n    }()\n  }, {\n    key: \"handleScroll\",\n    value: function () {\n      var _handleScroll = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event) {\n        var path, response, _this$plugin$getPlugi, files, folders;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              path = this.nextPagePath || null;\n              if (!(this.shouldHandleScroll(event) && path)) {\n                _context2.next = 17;\n                break;\n              }\n              this.isHandlingScroll = true;\n              _context2.prev = 3;\n              _context2.next = 6;\n              return this.provider.list(path);\n            case 6:\n              response = _context2.sent;\n              _this$plugin$getPlugi = this.plugin.getPluginState(), files = _this$plugin$getPlugi.files, folders = _this$plugin$getPlugi.folders;\n              _classPrivateFieldLooseBase(this, _updateFilesAndFolders)[_updateFilesAndFolders](response, files, folders);\n              _context2.next = 14;\n              break;\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](3);\n              this.handleError(_context2.t0);\n            case 14:\n              _context2.prev = 14;\n              this.isHandlingScroll = false;\n              return _context2.finish(14);\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this, [[3, 11, 14, 17]]);\n      }));\n      function handleScroll(_x) {\n        return _handleScroll.apply(this, arguments);\n      }\n      return handleScroll;\n    }()\n  }, {\n    key: \"listAllFiles\",\n    value: function () {\n      var _listAllFiles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(path, files) {\n        var _this7 = this;\n        var res, moreFiles;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              if (files === void 0) {\n                files = null;\n              }\n              files = files || []; // eslint-disable-line no-param-reassign\n              _context3.next = 4;\n              return this.provider.list(path);\n            case 4:\n              res = _context3.sent;\n              res.items.forEach(function (item) {\n                if (!item.isFolder) {\n                  files.push(item);\n                } else {\n                  _this7.addFolder(item);\n                }\n              });\n              moreFiles = res.nextPagePath;\n              if (!moreFiles) {\n                _context3.next = 9;\n                break;\n              }\n              return _context3.abrupt(\"return\", this.listAllFiles(moreFiles, files));\n            case 9:\n              return _context3.abrupt(\"return\", files);\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function listAllFiles(_x2, _x3) {\n        return _listAllFiles.apply(this, arguments);\n      }\n      return listAllFiles;\n    }()\n  }, {\n    key: \"donePicking\",\n    value: function donePicking() {\n      var _this8 = this;\n      var _this$plugin$getPlugi2 = this.plugin.getPluginState(),\n        currentSelection = _this$plugin$getPlugi2.currentSelection;\n      var promises = currentSelection.map(function (file) {\n        if (file.isFolder) {\n          return _this8.addFolder(file);\n        }\n        return _this8.addFile(file);\n      });\n      this.sharedHandler.loaderWrapper(Promise.all(promises), function () {\n        _this8.clearSelection();\n      }, function () {});\n    }\n  }, {\n    key: \"render\",\n    value: function render(state, viewOptions) {\n      var _this = this;\n      if (viewOptions === void 0) {\n        viewOptions = {};\n      }\n      var _this$plugin$getPlugi3 = this.plugin.getPluginState(),\n        authenticated = _this$plugin$getPlugi3.authenticated,\n        didFirstRender = _this$plugin$getPlugi3.didFirstRender;\n      if (!didFirstRender) {\n        this.preFirstRender();\n      }\n      var targetViewOptions = _objectSpread(_objectSpread({}, this.opts), viewOptions);\n      var _this$plugin$getPlugi4 = this.plugin.getPluginState(),\n        files = _this$plugin$getPlugi4.files,\n        folders = _this$plugin$getPlugi4.folders,\n        filterInput = _this$plugin$getPlugi4.filterInput,\n        loading = _this$plugin$getPlugi4.loading,\n        currentSelection = _this$plugin$getPlugi4.currentSelection;\n      var _this$sharedHandler = this.sharedHandler,\n        isChecked = _this$sharedHandler.isChecked,\n        toggleCheckbox = _this$sharedHandler.toggleCheckbox,\n        recordShiftKeyPress = _this$sharedHandler.recordShiftKeyPress,\n        filterItems = _this$sharedHandler.filterItems;\n      var hasInput = filterInput !== '';\n      var headerProps = {\n        showBreadcrumbs: targetViewOptions.showBreadcrumbs,\n        getFolder: this.getFolder,\n        directories: this.plugin.getPluginState().directories,\n        pluginIcon: this.plugin.icon,\n        title: this.plugin.title,\n        logout: this.logout,\n        username: this.username,\n        i18n: this.plugin.uppy.i18n\n      };\n      var browserProps = {\n        isChecked: isChecked,\n        toggleCheckbox: toggleCheckbox,\n        recordShiftKeyPress: recordShiftKeyPress,\n        currentSelection: currentSelection,\n        files: hasInput ? filterItems(files) : files,\n        folders: hasInput ? filterItems(folders) : folders,\n        username: this.username,\n        getNextFolder: this.getNextFolder,\n        getFolder: this.getFolder,\n        filterItems: this.sharedHandler.filterItems,\n        filterQuery: this.filterQuery,\n        logout: this.logout,\n        handleScroll: this.handleScroll,\n        listAllFiles: this.listAllFiles,\n        done: this.donePicking,\n        cancel: this.cancelPicking,\n        headerComponent: Header(headerProps),\n        title: this.plugin.title,\n        viewType: targetViewOptions.viewType,\n        showTitles: targetViewOptions.showTitles,\n        showFilter: targetViewOptions.showFilter,\n        showBreadcrumbs: targetViewOptions.showBreadcrumbs,\n        pluginIcon: this.plugin.icon,\n        i18n: this.plugin.uppy.i18n,\n        uppyFiles: this.plugin.uppy.getFiles(),\n        validateRestrictions: function validateRestrictions() {\n          var _this$plugin$uppy;\n          return (_this$plugin$uppy = _this.plugin.uppy).validateRestrictions.apply(_this$plugin$uppy, arguments);\n        }\n      };\n      if (loading) {\n        return h(CloseWrapper, {\n          onUnmount: this.clearSelection\n        }, h(LoaderView, {\n          i18n: this.plugin.uppy.i18n\n        }));\n      }\n      if (!authenticated) {\n        return h(CloseWrapper, {\n          onUnmount: this.clearSelection\n        }, h(AuthView, {\n          pluginName: this.plugin.title,\n          pluginIcon: this.plugin.icon,\n          handleAuth: this.handleAuth,\n          i18n: this.plugin.uppy.i18n,\n          i18nArray: this.plugin.uppy.i18nArray\n        }));\n      }\n      return h(CloseWrapper, {\n        onUnmount: this.clearSelection\n      }, h(Browser, browserProps));\n    }\n  }]);\n  return ProviderView;\n}(View);\nexport { ProviderView as default };\nfunction _updateFilesAndFolders2(res, files, folders) {\n  this.nextPagePath = res.nextPagePath;\n  res.items.forEach(function (item) {\n    if (item.isFolder) {\n      folders.push(item);\n    } else {\n      files.push(item);\n    }\n  });\n  this.plugin.setPluginState({\n    folders: folders,\n    files: files\n  });\n}\nProviderView.VERSION = packageJson.version;","map":{"version":3,"names":["_classPrivateFieldLooseBase","receiver","privateKey","Object","prototype","hasOwnProperty","call","TypeError","id","_classPrivateFieldLooseKey","name","h","AuthView","Header","Browser","LoaderView","CloseWrapper","View","packageJson","getOrigin","location","origin","getRegex","value","RegExp","concat","undefined","isOriginAllowed","allowedOrigin","patterns","Array","isArray","map","some","pattern","test","_updateFilesAndFolders","ProviderView","_View","_inherits","_super","_createSuper","plugin","opts","_this2","_classCallCheck","defineProperty","_assertThisInitialized","_updateFilesAndFolders2","defaultOptions","viewType","showTitles","showFilter","showBreadcrumbs","_objectSpread","filterQuery","bind","getFolder","getNextFolder","logout","handleAuth","handleScroll","listAllFiles","donePicking","render","setPluginState","authenticated","files","folders","directories","filterInput","isSearchVisible","currentSelection","_createClass","key","tearDown","_this3","sharedHandler","loaderWrapper","provider","list","res","updatedDirectories","state","getPluginState","index","findIndex","dir","slice","title","username","handleError","folder","requestPath","lastCheckbox","_this4","then","ok","revoked","message","uppy","i18n","url","manual_revoke_url","info","newState","catch","e","target","addFolder","_this5","folderId","providerFileToId","selectedFolders","loading","count","forEach","file","checkIfFileAlreadyExists","addFile","ids","length","smart_count","_handleAuth","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this6","authState","clientVersion","link","authWindow","handleToken","wrap","_callee$","_context","prev","next","ensurePreAuth","btoa","JSON","stringify","VERSION","authUrl","uppyVersions","window","open","source","log","companionAllowedHosts","data","parse","error","token","close","removeEventListener","setAuthToken","preFirstRender","addEventListener","stop","apply","arguments","_handleScroll","_callee2","event","path","response","_this$plugin$getPlugi","_callee2$","_context2","nextPagePath","shouldHandleScroll","isHandlingScroll","sent","t0","finish","_x","_listAllFiles","_callee3","_this7","moreFiles","_callee3$","_context3","items","item","isFolder","push","abrupt","_x2","_x3","_this8","_this$plugin$getPlugi2","promises","Promise","all","clearSelection","viewOptions","_this","_this$plugin$getPlugi3","didFirstRender","targetViewOptions","_this$plugin$getPlugi4","_this$sharedHandler","isChecked","toggleCheckbox","recordShiftKeyPress","filterItems","hasInput","headerProps","pluginIcon","icon","browserProps","done","cancel","cancelPicking","headerComponent","uppyFiles","getFiles","validateRestrictions","_this$plugin$uppy","onUnmount","pluginName","i18nArray","default","version"],"sources":["E:/integrate cloud/uppy/node_modules/@uppy/dropbox/node_modules/@uppy/provider-views/lib/ProviderView/ProviderView.js"],"sourcesContent":["function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nimport { h } from 'preact';\nimport AuthView from \"./AuthView.js\";\nimport Header from \"./Header.js\";\nimport Browser from \"../Browser.js\";\nimport LoaderView from \"../Loader.js\";\nimport CloseWrapper from '../CloseWrapper.js';\nimport View from '../View.js';\nconst packageJson = {\n  \"version\": \"3.0.2\"\n};\n\nfunction getOrigin() {\n  // eslint-disable-next-line no-restricted-globals\n  return location.origin;\n}\n\nfunction getRegex(value) {\n  if (typeof value === 'string') {\n    return new RegExp(`^${value}$`);\n  }\n\n  if (value instanceof RegExp) {\n    return value;\n  }\n\n  return undefined;\n}\n\nfunction isOriginAllowed(origin, allowedOrigin) {\n  const patterns = Array.isArray(allowedOrigin) ? allowedOrigin.map(getRegex) : [getRegex(allowedOrigin)];\n  return patterns.some(pattern => (pattern == null ? void 0 : pattern.test(origin)) || (pattern == null ? void 0 : pattern.test(`${origin}/`))); // allowing for trailing '/'\n}\n/**\n * Class to easily generate generic views for Provider plugins\n */\n\n\nvar _updateFilesAndFolders = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateFilesAndFolders\");\n\nexport default class ProviderView extends View {\n  /**\n   * @param {object} plugin instance of the plugin\n   * @param {object} opts\n   */\n  constructor(plugin, opts) {\n    super(plugin, opts); // set default options\n\n    Object.defineProperty(this, _updateFilesAndFolders, {\n      value: _updateFilesAndFolders2\n    });\n    const defaultOptions = {\n      viewType: 'list',\n      showTitles: true,\n      showFilter: true,\n      showBreadcrumbs: true\n    }; // merge default options with the ones set by user\n\n    this.opts = { ...defaultOptions,\n      ...opts\n    }; // Logic\n\n    this.filterQuery = this.filterQuery.bind(this);\n    this.getFolder = this.getFolder.bind(this);\n    this.getNextFolder = this.getNextFolder.bind(this);\n    this.logout = this.logout.bind(this);\n    this.handleAuth = this.handleAuth.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n    this.listAllFiles = this.listAllFiles.bind(this);\n    this.donePicking = this.donePicking.bind(this); // Visual\n\n    this.render = this.render.bind(this); // Set default state for the plugin\n\n    this.plugin.setPluginState({\n      authenticated: false,\n      files: [],\n      folders: [],\n      directories: [],\n      filterInput: '',\n      isSearchVisible: false,\n      currentSelection: []\n    });\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  tearDown() {// Nothing.\n  }\n\n  /**\n   * Based on folder ID, fetch a new folder and update it to state\n   *\n   * @param  {string} id Folder id\n   * @returns {Promise}   Folders/files in folder\n   */\n  getFolder(id, name) {\n    return this.sharedHandler.loaderWrapper(this.provider.list(id), res => {\n      const folders = [];\n      const files = [];\n      let updatedDirectories;\n      const state = this.plugin.getPluginState();\n      const index = state.directories.findIndex(dir => id === dir.id);\n\n      if (index !== -1) {\n        updatedDirectories = state.directories.slice(0, index + 1);\n      } else {\n        updatedDirectories = state.directories.concat([{\n          id,\n          title: name\n        }]);\n      }\n\n      this.username = res.username || this.username;\n\n      _classPrivateFieldLooseBase(this, _updateFilesAndFolders)[_updateFilesAndFolders](res, files, folders);\n\n      this.plugin.setPluginState({\n        directories: updatedDirectories,\n        filterInput: ''\n      });\n    }, this.handleError);\n  }\n  /**\n   * Fetches new folder\n   *\n   * @param  {object} folder\n   */\n\n\n  getNextFolder(folder) {\n    this.getFolder(folder.requestPath, folder.name);\n    this.lastCheckbox = undefined;\n  }\n  /**\n   * Removes session token on client side.\n   */\n\n\n  logout() {\n    this.provider.logout().then(res => {\n      if (res.ok) {\n        if (!res.revoked) {\n          const message = this.plugin.uppy.i18n('companionUnauthorizeHint', {\n            provider: this.plugin.title,\n            url: res.manual_revoke_url\n          });\n          this.plugin.uppy.info(message, 'info', 7000);\n        }\n\n        const newState = {\n          authenticated: false,\n          files: [],\n          folders: [],\n          directories: [],\n          filterInput: ''\n        };\n        this.plugin.setPluginState(newState);\n      }\n    }).catch(this.handleError);\n  }\n\n  filterQuery(e) {\n    const state = this.plugin.getPluginState();\n    this.plugin.setPluginState({ ...state,\n      filterInput: e ? e.target.value : ''\n    });\n  }\n  /**\n   * Adds all files found inside of specified folder.\n   *\n   * Uses separated state while folder contents are being fetched and\n   * mantains list of selected folders, which are separated from files.\n   */\n\n\n  addFolder(folder) {\n    const folderId = this.providerFileToId(folder);\n    const folders = { ...this.plugin.getPluginState().selectedFolders\n    };\n\n    if (folderId in folders && folders[folderId].loading) {\n      return;\n    }\n\n    folders[folderId] = {\n      loading: true,\n      files: []\n    };\n    this.plugin.setPluginState({\n      selectedFolders: { ...folders\n      }\n    }); // eslint-disable-next-line consistent-return\n\n    return this.listAllFiles(folder.requestPath).then(files => {\n      let count = 0; // If the same folder is added again, we don't want to send\n      // X amount of duplicate file notifications, we want to say\n      // the folder was already added. This checks if all files are duplicate,\n      // if that's the case, we don't add the files.\n\n      files.forEach(file => {\n        const id = this.providerFileToId(file);\n\n        if (!this.plugin.uppy.checkIfFileAlreadyExists(id)) {\n          count++;\n        }\n      });\n\n      if (count > 0) {\n        files.forEach(file => this.addFile(file));\n      }\n\n      const ids = files.map(this.providerFileToId);\n      folders[folderId] = {\n        loading: false,\n        files: ids\n      };\n      this.plugin.setPluginState({\n        selectedFolders: folders,\n        filterInput: ''\n      });\n      let message;\n\n      if (count === 0) {\n        message = this.plugin.uppy.i18n('folderAlreadyAdded', {\n          folder: folder.name\n        });\n      } else if (files.length) {\n        message = this.plugin.uppy.i18n('folderAdded', {\n          smart_count: count,\n          folder: folder.name\n        });\n      } else {\n        message = this.plugin.uppy.i18n('emptyFolderAdded');\n      }\n\n      this.plugin.uppy.info(message);\n    }).catch(e => {\n      const selectedFolders = { ...this.plugin.getPluginState().selectedFolders\n      };\n      delete selectedFolders[folderId];\n      this.plugin.setPluginState({\n        selectedFolders\n      });\n      this.handleError(e);\n    });\n  }\n\n  async handleAuth() {\n    await this.provider.ensurePreAuth();\n    const authState = btoa(JSON.stringify({\n      origin: getOrigin()\n    }));\n    const clientVersion = `@uppy/provider-views=${ProviderView.VERSION}`;\n    const link = this.provider.authUrl({\n      state: authState,\n      uppyVersions: clientVersion\n    });\n    const authWindow = window.open(link, '_blank');\n\n    const handleToken = e => {\n      if (e.source !== authWindow) {\n        this.plugin.uppy.log('rejecting event from unknown source');\n        return;\n      }\n\n      if (!isOriginAllowed(e.origin, this.plugin.opts.companionAllowedHosts) || e.source !== authWindow) {\n        this.plugin.uppy.log(`rejecting event from ${e.origin} vs allowed pattern ${this.plugin.opts.companionAllowedHosts}`);\n      } // Check if it's a string before doing the JSON.parse to maintain support\n      // for older Companion versions that used object references\n\n\n      const data = typeof e.data === 'string' ? JSON.parse(e.data) : e.data;\n\n      if (data.error) {\n        this.plugin.uppy.log('auth aborted', 'warning');\n        const {\n          uppy\n        } = this.plugin;\n        const message = uppy.i18n('authAborted');\n        uppy.info({\n          message\n        }, 'warning', 5000);\n        return;\n      }\n\n      if (!data.token) {\n        this.plugin.uppy.log('did not receive token from auth window', 'error');\n        return;\n      }\n\n      authWindow.close();\n      window.removeEventListener('message', handleToken);\n      this.provider.setAuthToken(data.token);\n      this.preFirstRender();\n    };\n\n    window.addEventListener('message', handleToken);\n  }\n\n  async handleScroll(event) {\n    const path = this.nextPagePath || null;\n\n    if (this.shouldHandleScroll(event) && path) {\n      this.isHandlingScroll = true;\n\n      try {\n        const response = await this.provider.list(path);\n        const {\n          files,\n          folders\n        } = this.plugin.getPluginState();\n\n        _classPrivateFieldLooseBase(this, _updateFilesAndFolders)[_updateFilesAndFolders](response, files, folders);\n      } catch (error) {\n        this.handleError(error);\n      } finally {\n        this.isHandlingScroll = false;\n      }\n    }\n  }\n\n  async listAllFiles(path, files) {\n    if (files === void 0) {\n      files = null;\n    }\n\n    files = files || []; // eslint-disable-line no-param-reassign\n\n    const res = await this.provider.list(path);\n    res.items.forEach(item => {\n      if (!item.isFolder) {\n        files.push(item);\n      } else {\n        this.addFolder(item);\n      }\n    });\n    const moreFiles = res.nextPagePath;\n\n    if (moreFiles) {\n      return this.listAllFiles(moreFiles, files);\n    }\n\n    return files;\n  }\n\n  donePicking() {\n    const {\n      currentSelection\n    } = this.plugin.getPluginState();\n    const promises = currentSelection.map(file => {\n      if (file.isFolder) {\n        return this.addFolder(file);\n      }\n\n      return this.addFile(file);\n    });\n    this.sharedHandler.loaderWrapper(Promise.all(promises), () => {\n      this.clearSelection();\n    }, () => {});\n  }\n\n  render(state, viewOptions) {\n    var _this = this;\n\n    if (viewOptions === void 0) {\n      viewOptions = {};\n    }\n\n    const {\n      authenticated,\n      didFirstRender\n    } = this.plugin.getPluginState();\n\n    if (!didFirstRender) {\n      this.preFirstRender();\n    }\n\n    const targetViewOptions = { ...this.opts,\n      ...viewOptions\n    };\n    const {\n      files,\n      folders,\n      filterInput,\n      loading,\n      currentSelection\n    } = this.plugin.getPluginState();\n    const {\n      isChecked,\n      toggleCheckbox,\n      recordShiftKeyPress,\n      filterItems\n    } = this.sharedHandler;\n    const hasInput = filterInput !== '';\n    const headerProps = {\n      showBreadcrumbs: targetViewOptions.showBreadcrumbs,\n      getFolder: this.getFolder,\n      directories: this.plugin.getPluginState().directories,\n      pluginIcon: this.plugin.icon,\n      title: this.plugin.title,\n      logout: this.logout,\n      username: this.username,\n      i18n: this.plugin.uppy.i18n\n    };\n    const browserProps = {\n      isChecked,\n      toggleCheckbox,\n      recordShiftKeyPress,\n      currentSelection,\n      files: hasInput ? filterItems(files) : files,\n      folders: hasInput ? filterItems(folders) : folders,\n      username: this.username,\n      getNextFolder: this.getNextFolder,\n      getFolder: this.getFolder,\n      filterItems: this.sharedHandler.filterItems,\n      filterQuery: this.filterQuery,\n      logout: this.logout,\n      handleScroll: this.handleScroll,\n      listAllFiles: this.listAllFiles,\n      done: this.donePicking,\n      cancel: this.cancelPicking,\n      headerComponent: Header(headerProps),\n      title: this.plugin.title,\n      viewType: targetViewOptions.viewType,\n      showTitles: targetViewOptions.showTitles,\n      showFilter: targetViewOptions.showFilter,\n      showBreadcrumbs: targetViewOptions.showBreadcrumbs,\n      pluginIcon: this.plugin.icon,\n      i18n: this.plugin.uppy.i18n,\n      uppyFiles: this.plugin.uppy.getFiles(),\n      validateRestrictions: function () {\n        return _this.plugin.uppy.validateRestrictions(...arguments);\n      }\n    };\n\n    if (loading) {\n      return h(CloseWrapper, {\n        onUnmount: this.clearSelection\n      }, h(LoaderView, {\n        i18n: this.plugin.uppy.i18n\n      }));\n    }\n\n    if (!authenticated) {\n      return h(CloseWrapper, {\n        onUnmount: this.clearSelection\n      }, h(AuthView, {\n        pluginName: this.plugin.title,\n        pluginIcon: this.plugin.icon,\n        handleAuth: this.handleAuth,\n        i18n: this.plugin.uppy.i18n,\n        i18nArray: this.plugin.uppy.i18nArray\n      }));\n    }\n\n    return h(CloseWrapper, {\n      onUnmount: this.clearSelection\n    }, h(Browser, browserProps));\n  }\n\n}\n\nfunction _updateFilesAndFolders2(res, files, folders) {\n  this.nextPagePath = res.nextPagePath;\n  res.items.forEach(item => {\n    if (item.isFolder) {\n      folders.push(item);\n    } else {\n      files.push(item);\n    }\n  });\n  this.plugin.setPluginState({\n    folders,\n    files\n  });\n}\n\nProviderView.VERSION = packageJson.version;"],"mappings":"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"},"metadata":{},"sourceType":"module"}