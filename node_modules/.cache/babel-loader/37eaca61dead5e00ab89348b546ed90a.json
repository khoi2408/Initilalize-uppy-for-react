{"ast":null,"code":"'use strict';\n\nvar _class, _temp;\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nvar AuthError = require('./AuthError');\nvar fetchWithNetworkError = require('@uppy/utils/lib/fetchWithNetworkError'); // Remove the trailing slash so we can always safely append /xyz.\n\nfunction stripSlash(url) {\n  return url.replace(/\\/$/, '');\n}\nmodule.exports = (_temp = _class = /*#__PURE__*/function () {\n  function RequestClient(uppy, opts) {\n    this.uppy = uppy;\n    this.opts = opts;\n    this.onReceiveResponse = this.onReceiveResponse.bind(this);\n    this.allowedHeaders = ['accept', 'content-type', 'uppy-auth-token'];\n    this.preflightDone = false;\n  }\n  var _proto = RequestClient.prototype;\n  _proto.headers = function headers() {\n    var userHeaders = this.opts.companionHeaders || this.opts.serverHeaders || {};\n    return Promise.resolve(_extends({}, this.defaultHeaders, userHeaders));\n  };\n  _proto._getPostResponseFunc = function _getPostResponseFunc(skip) {\n    var _this = this;\n    return function (response) {\n      if (!skip) {\n        return _this.onReceiveResponse(response);\n      }\n      return response;\n    };\n  };\n  _proto.onReceiveResponse = function onReceiveResponse(response) {\n    var state = this.uppy.getState();\n    var companion = state.companion || {};\n    var host = this.opts.companionUrl;\n    var headers = response.headers; // Store the self-identified domain name for the Companion instance we just hit.\n\n    if (headers.has('i-am') && headers.get('i-am') !== companion[host]) {\n      var _extends2;\n      this.uppy.setState({\n        companion: _extends({}, companion, (_extends2 = {}, _extends2[host] = headers.get('i-am'), _extends2))\n      });\n    }\n    return response;\n  };\n  _proto._getUrl = function _getUrl(url) {\n    if (/^(https?:|)\\/\\//.test(url)) {\n      return url;\n    }\n    return this.hostname + \"/\" + url;\n  };\n  _proto._json = function _json(res) {\n    if (res.status === 401) {\n      throw new AuthError();\n    }\n    if (res.status < 200 || res.status > 300) {\n      var errMsg = \"Failed request with status: \" + res.status + \". \" + res.statusText;\n      return res.json().then(function (errData) {\n        errMsg = errData.message ? errMsg + \" message: \" + errData.message : errMsg;\n        errMsg = errData.requestId ? errMsg + \" request-Id: \" + errData.requestId : errMsg;\n        throw new Error(errMsg);\n      }).catch(function () {\n        throw new Error(errMsg);\n      });\n    }\n    return res.json();\n  };\n  _proto.preflight = function preflight(path) {\n    var _this2 = this;\n    if (this.preflightDone) {\n      return Promise.resolve(this.allowedHeaders.slice());\n    }\n    return fetch(this._getUrl(path), {\n      method: 'OPTIONS'\n    }).then(function (response) {\n      if (response.headers.has('access-control-allow-headers')) {\n        _this2.allowedHeaders = response.headers.get('access-control-allow-headers').split(',').map(function (headerName) {\n          return headerName.trim().toLowerCase();\n        });\n      }\n      _this2.preflightDone = true;\n      return _this2.allowedHeaders.slice();\n    }).catch(function (err) {\n      _this2.uppy.log(\"[CompanionClient] unable to make preflight request \" + err, 'warning');\n      _this2.preflightDone = true;\n      return _this2.allowedHeaders.slice();\n    });\n  };\n  _proto.preflightAndHeaders = function preflightAndHeaders(path) {\n    var _this3 = this;\n    return Promise.all([this.preflight(path), this.headers()]).then(function (_ref) {\n      var allowedHeaders = _ref[0],\n        headers = _ref[1];\n      // filter to keep only allowed Headers\n      Object.keys(headers).forEach(function (header) {\n        if (allowedHeaders.indexOf(header.toLowerCase()) === -1) {\n          _this3.uppy.log(\"[CompanionClient] excluding unallowed header \" + header);\n          delete headers[header];\n        }\n      });\n      return headers;\n    });\n  };\n  _proto.get = function get(path, skipPostResponse) {\n    var _this4 = this;\n    return this.preflightAndHeaders(path).then(function (headers) {\n      return fetchWithNetworkError(_this4._getUrl(path), {\n        method: 'get',\n        headers: headers,\n        credentials: _this4.opts.companionCookiesRule || 'same-origin'\n      });\n    }).then(this._getPostResponseFunc(skipPostResponse)).then(function (res) {\n      return _this4._json(res);\n    }).catch(function (err) {\n      if (!err.isAuthError) {\n        err.message = \"Could not get \" + _this4._getUrl(path) + \". \" + err.message;\n      }\n      return Promise.reject(err);\n    });\n  };\n  _proto.post = function post(path, data, skipPostResponse) {\n    var _this5 = this;\n    return this.preflightAndHeaders(path).then(function (headers) {\n      return fetchWithNetworkError(_this5._getUrl(path), {\n        method: 'post',\n        headers: headers,\n        credentials: _this5.opts.companionCookiesRule || 'same-origin',\n        body: JSON.stringify(data)\n      });\n    }).then(this._getPostResponseFunc(skipPostResponse)).then(function (res) {\n      return _this5._json(res);\n    }).catch(function (err) {\n      if (!err.isAuthError) {\n        err.message = \"Could not post \" + _this5._getUrl(path) + \". \" + err.message;\n      }\n      return Promise.reject(err);\n    });\n  };\n  _proto.delete = function _delete(path, data, skipPostResponse) {\n    var _this6 = this;\n    return this.preflightAndHeaders(path).then(function (headers) {\n      return fetchWithNetworkError(_this6.hostname + \"/\" + path, {\n        method: 'delete',\n        headers: headers,\n        credentials: _this6.opts.companionCookiesRule || 'same-origin',\n        body: data ? JSON.stringify(data) : null\n      });\n    }).then(this._getPostResponseFunc(skipPostResponse)).then(function (res) {\n      return _this6._json(res);\n    }).catch(function (err) {\n      if (!err.isAuthError) {\n        err.message = \"Could not delete \" + _this6._getUrl(path) + \". \" + err.message;\n      }\n      return Promise.reject(err);\n    });\n  };\n  _createClass(RequestClient, [{\n    key: \"hostname\",\n    get: function get() {\n      var _this$uppy$getState = this.uppy.getState(),\n        companion = _this$uppy$getState.companion;\n      var host = this.opts.companionUrl;\n      return stripSlash(companion && companion[host] ? companion[host] : host);\n    }\n  }, {\n    key: \"defaultHeaders\",\n    get: function get() {\n      return {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        'Uppy-Versions': \"@uppy/companion-client=\" + RequestClient.VERSION\n      };\n    }\n  }]);\n  return RequestClient;\n}(), _class.VERSION = \"1.10.2\", _temp);","map":{"version":3,"names":["_class","_temp","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","Constructor","protoProps","staticProps","AuthError","require","fetchWithNetworkError","stripSlash","url","replace","module","exports","RequestClient","uppy","opts","onReceiveResponse","bind","allowedHeaders","preflightDone","_proto","headers","userHeaders","companionHeaders","serverHeaders","Promise","resolve","defaultHeaders","_getPostResponseFunc","skip","_this","response","state","getState","companion","host","companionUrl","has","get","_extends2","setState","_getUrl","test","hostname","_json","res","status","errMsg","statusText","json","then","errData","message","requestId","Error","catch","preflight","path","_this2","slice","fetch","method","split","map","headerName","trim","toLowerCase","err","log","preflightAndHeaders","_this3","all","_ref","keys","forEach","header","indexOf","skipPostResponse","_this4","credentials","companionCookiesRule","isAuthError","reject","post","data","_this5","body","JSON","stringify","delete","_delete","_this6","_this$uppy$getState","Accept","VERSION"],"sources":["E:/integrate cloud/uppy/node_modules/@uppy/companion-client/lib/RequestClient.js"],"sourcesContent":["'use strict';\n\nvar _class, _temp;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar AuthError = require('./AuthError');\n\nvar fetchWithNetworkError = require('@uppy/utils/lib/fetchWithNetworkError'); // Remove the trailing slash so we can always safely append /xyz.\n\n\nfunction stripSlash(url) {\n  return url.replace(/\\/$/, '');\n}\n\nmodule.exports = (_temp = _class = /*#__PURE__*/function () {\n  function RequestClient(uppy, opts) {\n    this.uppy = uppy;\n    this.opts = opts;\n    this.onReceiveResponse = this.onReceiveResponse.bind(this);\n    this.allowedHeaders = ['accept', 'content-type', 'uppy-auth-token'];\n    this.preflightDone = false;\n  }\n\n  var _proto = RequestClient.prototype;\n\n  _proto.headers = function headers() {\n    var userHeaders = this.opts.companionHeaders || this.opts.serverHeaders || {};\n    return Promise.resolve(_extends({}, this.defaultHeaders, userHeaders));\n  };\n\n  _proto._getPostResponseFunc = function _getPostResponseFunc(skip) {\n    var _this = this;\n\n    return function (response) {\n      if (!skip) {\n        return _this.onReceiveResponse(response);\n      }\n\n      return response;\n    };\n  };\n\n  _proto.onReceiveResponse = function onReceiveResponse(response) {\n    var state = this.uppy.getState();\n    var companion = state.companion || {};\n    var host = this.opts.companionUrl;\n    var headers = response.headers; // Store the self-identified domain name for the Companion instance we just hit.\n\n    if (headers.has('i-am') && headers.get('i-am') !== companion[host]) {\n      var _extends2;\n\n      this.uppy.setState({\n        companion: _extends({}, companion, (_extends2 = {}, _extends2[host] = headers.get('i-am'), _extends2))\n      });\n    }\n\n    return response;\n  };\n\n  _proto._getUrl = function _getUrl(url) {\n    if (/^(https?:|)\\/\\//.test(url)) {\n      return url;\n    }\n\n    return this.hostname + \"/\" + url;\n  };\n\n  _proto._json = function _json(res) {\n    if (res.status === 401) {\n      throw new AuthError();\n    }\n\n    if (res.status < 200 || res.status > 300) {\n      var errMsg = \"Failed request with status: \" + res.status + \". \" + res.statusText;\n      return res.json().then(function (errData) {\n        errMsg = errData.message ? errMsg + \" message: \" + errData.message : errMsg;\n        errMsg = errData.requestId ? errMsg + \" request-Id: \" + errData.requestId : errMsg;\n        throw new Error(errMsg);\n      }).catch(function () {\n        throw new Error(errMsg);\n      });\n    }\n\n    return res.json();\n  };\n\n  _proto.preflight = function preflight(path) {\n    var _this2 = this;\n\n    if (this.preflightDone) {\n      return Promise.resolve(this.allowedHeaders.slice());\n    }\n\n    return fetch(this._getUrl(path), {\n      method: 'OPTIONS'\n    }).then(function (response) {\n      if (response.headers.has('access-control-allow-headers')) {\n        _this2.allowedHeaders = response.headers.get('access-control-allow-headers').split(',').map(function (headerName) {\n          return headerName.trim().toLowerCase();\n        });\n      }\n\n      _this2.preflightDone = true;\n      return _this2.allowedHeaders.slice();\n    }).catch(function (err) {\n      _this2.uppy.log(\"[CompanionClient] unable to make preflight request \" + err, 'warning');\n\n      _this2.preflightDone = true;\n      return _this2.allowedHeaders.slice();\n    });\n  };\n\n  _proto.preflightAndHeaders = function preflightAndHeaders(path) {\n    var _this3 = this;\n\n    return Promise.all([this.preflight(path), this.headers()]).then(function (_ref) {\n      var allowedHeaders = _ref[0],\n          headers = _ref[1];\n      // filter to keep only allowed Headers\n      Object.keys(headers).forEach(function (header) {\n        if (allowedHeaders.indexOf(header.toLowerCase()) === -1) {\n          _this3.uppy.log(\"[CompanionClient] excluding unallowed header \" + header);\n\n          delete headers[header];\n        }\n      });\n      return headers;\n    });\n  };\n\n  _proto.get = function get(path, skipPostResponse) {\n    var _this4 = this;\n\n    return this.preflightAndHeaders(path).then(function (headers) {\n      return fetchWithNetworkError(_this4._getUrl(path), {\n        method: 'get',\n        headers: headers,\n        credentials: _this4.opts.companionCookiesRule || 'same-origin'\n      });\n    }).then(this._getPostResponseFunc(skipPostResponse)).then(function (res) {\n      return _this4._json(res);\n    }).catch(function (err) {\n      if (!err.isAuthError) {\n        err.message = \"Could not get \" + _this4._getUrl(path) + \". \" + err.message;\n      }\n\n      return Promise.reject(err);\n    });\n  };\n\n  _proto.post = function post(path, data, skipPostResponse) {\n    var _this5 = this;\n\n    return this.preflightAndHeaders(path).then(function (headers) {\n      return fetchWithNetworkError(_this5._getUrl(path), {\n        method: 'post',\n        headers: headers,\n        credentials: _this5.opts.companionCookiesRule || 'same-origin',\n        body: JSON.stringify(data)\n      });\n    }).then(this._getPostResponseFunc(skipPostResponse)).then(function (res) {\n      return _this5._json(res);\n    }).catch(function (err) {\n      if (!err.isAuthError) {\n        err.message = \"Could not post \" + _this5._getUrl(path) + \". \" + err.message;\n      }\n\n      return Promise.reject(err);\n    });\n  };\n\n  _proto.delete = function _delete(path, data, skipPostResponse) {\n    var _this6 = this;\n\n    return this.preflightAndHeaders(path).then(function (headers) {\n      return fetchWithNetworkError(_this6.hostname + \"/\" + path, {\n        method: 'delete',\n        headers: headers,\n        credentials: _this6.opts.companionCookiesRule || 'same-origin',\n        body: data ? JSON.stringify(data) : null\n      });\n    }).then(this._getPostResponseFunc(skipPostResponse)).then(function (res) {\n      return _this6._json(res);\n    }).catch(function (err) {\n      if (!err.isAuthError) {\n        err.message = \"Could not delete \" + _this6._getUrl(path) + \". \" + err.message;\n      }\n\n      return Promise.reject(err);\n    });\n  };\n\n  _createClass(RequestClient, [{\n    key: \"hostname\",\n    get: function get() {\n      var _this$uppy$getState = this.uppy.getState(),\n          companion = _this$uppy$getState.companion;\n\n      var host = this.opts.companionUrl;\n      return stripSlash(companion && companion[host] ? companion[host] : host);\n    }\n  }, {\n    key: \"defaultHeaders\",\n    get: function get() {\n      return {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        'Uppy-Versions': \"@uppy/companion-client=\" + RequestClient.VERSION\n      };\n    }\n  }]);\n\n  return RequestClient;\n}(), _class.VERSION = \"1.10.2\", _temp);"],"mappings":"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"},"metadata":{},"sourceType":"script"}