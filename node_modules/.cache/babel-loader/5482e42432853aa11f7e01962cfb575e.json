{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nvar FileItem = require('./FileItem/index.js');\nvar VirtualList = require('./VirtualList');\nvar classNames = require('classnames');\nvar _require = require('preact'),\n  h = _require.h;\nfunction chunks(list, size) {\n  var chunked = [];\n  var currentChunk = [];\n  list.forEach(function (item, i) {\n    if (currentChunk.length < size) {\n      currentChunk.push(item);\n    } else {\n      chunked.push(currentChunk);\n      currentChunk = [item];\n    }\n  });\n  if (currentChunk.length) chunked.push(currentChunk);\n  return chunked;\n}\nmodule.exports = function (props) {\n  var noFiles = props.totalFileCount === 0;\n  var dashboardFilesClass = classNames('uppy-Dashboard-files', {\n    'uppy-Dashboard-files--noFiles': noFiles\n  }); // It's not great that this is hardcoded!\n  // It's ESPECIALLY not great that this is checking against `itemsPerRow`!\n\n  var rowHeight = props.itemsPerRow === 1 // Mobile\n  ? 71 // 190px height + 2 * 5px margin\n  : 200;\n  var fileProps = {\n    // FIXME This is confusing, it's actually the Dashboard's plugin ID\n    id: props.id,\n    error: props.error,\n    // TODO move this to context\n    i18n: props.i18n,\n    log: props.log,\n    info: props.info,\n    // features\n    acquirers: props.acquirers,\n    resumableUploads: props.resumableUploads,\n    individualCancellation: props.individualCancellation,\n    // visual options\n    hideRetryButton: props.hideRetryButton,\n    hidePauseResumeButton: props.hidePauseResumeButton,\n    hideCancelButton: props.hideCancelButton,\n    showLinkToFileUploadResult: props.showLinkToFileUploadResult,\n    showRemoveButtonAfterComplete: props.showRemoveButtonAfterComplete,\n    isWide: props.isWide,\n    metaFields: props.metaFields,\n    recoveredState: props.recoveredState,\n    // callbacks\n    retryUpload: props.retryUpload,\n    pauseUpload: props.pauseUpload,\n    cancelUpload: props.cancelUpload,\n    toggleFileCard: props.toggleFileCard,\n    removeFile: props.removeFile,\n    handleRequestThumbnail: props.handleRequestThumbnail,\n    handleCancelThumbnail: props.handleCancelThumbnail\n  };\n  var sortByGhostComesFirst = function sortByGhostComesFirst(file1, file2) {\n    return props.files[file2].isGhost - props.files[file1].isGhost;\n  }; // Sort files by file.isGhost, ghost files first, only if recoveredState is present\n\n  var files = Object.keys(props.files);\n  if (props.recoveredState) files.sort(sortByGhostComesFirst);\n  var rows = chunks(files, props.itemsPerRow);\n  function renderRow(row) {\n    return (\n      // The `role=\"presentation` attribute ensures that the list items are properly associated with the `VirtualList` element\n      // We use the first file ID as the key—this should not change across scroll rerenders\n      h(\"div\", {\n        role: \"presentation\",\n        key: row[0]\n      }, row.map(function (fileID) {\n        return h(FileItem, _extends({\n          key: fileID\n        }, fileProps, {\n          role: \"listitem\",\n          openFileEditor: props.openFileEditor,\n          canEditFile: props.canEditFile,\n          toggleAddFilesPanel: props.toggleAddFilesPanel,\n          file: props.files[fileID]\n        }));\n      }))\n    );\n  }\n  return h(VirtualList, {\n    class: dashboardFilesClass,\n    role: \"list\",\n    data: rows,\n    renderRow: renderRow,\n    rowHeight: rowHeight\n  });\n};","map":{"version":3,"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","FileItem","require","VirtualList","classNames","_require","h","chunks","list","size","chunked","currentChunk","forEach","item","push","module","exports","props","noFiles","totalFileCount","dashboardFilesClass","rowHeight","itemsPerRow","fileProps","id","error","i18n","log","info","acquirers","resumableUploads","individualCancellation","hideRetryButton","hidePauseResumeButton","hideCancelButton","showLinkToFileUploadResult","showRemoveButtonAfterComplete","isWide","metaFields","recoveredState","retryUpload","pauseUpload","cancelUpload","toggleFileCard","removeFile","handleRequestThumbnail","handleCancelThumbnail","sortByGhostComesFirst","file1","file2","files","isGhost","keys","sort","rows","renderRow","row","role","map","fileID","openFileEditor","canEditFile","toggleAddFilesPanel","file","class","data"],"sources":["E:/integrate cloud/uppy/node_modules/@uppy/dashboard/lib/components/FileList.js"],"sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar FileItem = require('./FileItem/index.js');\n\nvar VirtualList = require('./VirtualList');\n\nvar classNames = require('classnames');\n\nvar _require = require('preact'),\n    h = _require.h;\n\nfunction chunks(list, size) {\n  var chunked = [];\n  var currentChunk = [];\n  list.forEach(function (item, i) {\n    if (currentChunk.length < size) {\n      currentChunk.push(item);\n    } else {\n      chunked.push(currentChunk);\n      currentChunk = [item];\n    }\n  });\n  if (currentChunk.length) chunked.push(currentChunk);\n  return chunked;\n}\n\nmodule.exports = function (props) {\n  var noFiles = props.totalFileCount === 0;\n  var dashboardFilesClass = classNames('uppy-Dashboard-files', {\n    'uppy-Dashboard-files--noFiles': noFiles\n  }); // It's not great that this is hardcoded!\n  // It's ESPECIALLY not great that this is checking against `itemsPerRow`!\n\n  var rowHeight = props.itemsPerRow === 1 // Mobile\n  ? 71 // 190px height + 2 * 5px margin\n  : 200;\n  var fileProps = {\n    // FIXME This is confusing, it's actually the Dashboard's plugin ID\n    id: props.id,\n    error: props.error,\n    // TODO move this to context\n    i18n: props.i18n,\n    log: props.log,\n    info: props.info,\n    // features\n    acquirers: props.acquirers,\n    resumableUploads: props.resumableUploads,\n    individualCancellation: props.individualCancellation,\n    // visual options\n    hideRetryButton: props.hideRetryButton,\n    hidePauseResumeButton: props.hidePauseResumeButton,\n    hideCancelButton: props.hideCancelButton,\n    showLinkToFileUploadResult: props.showLinkToFileUploadResult,\n    showRemoveButtonAfterComplete: props.showRemoveButtonAfterComplete,\n    isWide: props.isWide,\n    metaFields: props.metaFields,\n    recoveredState: props.recoveredState,\n    // callbacks\n    retryUpload: props.retryUpload,\n    pauseUpload: props.pauseUpload,\n    cancelUpload: props.cancelUpload,\n    toggleFileCard: props.toggleFileCard,\n    removeFile: props.removeFile,\n    handleRequestThumbnail: props.handleRequestThumbnail,\n    handleCancelThumbnail: props.handleCancelThumbnail\n  };\n\n  var sortByGhostComesFirst = function sortByGhostComesFirst(file1, file2) {\n    return props.files[file2].isGhost - props.files[file1].isGhost;\n  }; // Sort files by file.isGhost, ghost files first, only if recoveredState is present\n\n\n  var files = Object.keys(props.files);\n  if (props.recoveredState) files.sort(sortByGhostComesFirst);\n  var rows = chunks(files, props.itemsPerRow);\n\n  function renderRow(row) {\n    return (// The `role=\"presentation` attribute ensures that the list items are properly associated with the `VirtualList` element\n      // We use the first file ID as the key—this should not change across scroll rerenders\n      h(\"div\", {\n        role: \"presentation\",\n        key: row[0]\n      }, row.map(function (fileID) {\n        return h(FileItem, _extends({\n          key: fileID\n        }, fileProps, {\n          role: \"listitem\",\n          openFileEditor: props.openFileEditor,\n          canEditFile: props.canEditFile,\n          toggleAddFilesPanel: props.toggleAddFilesPanel,\n          file: props.files[fileID]\n        }));\n      }))\n    );\n  }\n\n  return h(VirtualList, {\n    class: dashboardFilesClass,\n    role: \"list\",\n    data: rows,\n    renderRow: renderRow,\n    rowHeight: rowHeight\n  });\n};"],"mappings":"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"},"metadata":{},"sourceType":"script"}