{"version":3,"sources":["FileInput.js"],"names":["PropTypes","require","React","FileInputPlugin","propTypes","h","createElement","FileInput","componentDidMount","installPlugin","componentDidUpdate","prevProps","uppy","props","uninstallPlugin","componentWillUnmount","options","id","target","container","use","plugin","getPlugin","removePlugin","render","ref","Component","locale","pretty","bool","inputName","string","defaultProps","module","exports"],"mappings":";;;;;;AAAA,IAAMA,SAAS,GAAGC,OAAO,CAAC,YAAD,CAAzB;;AACA,IAAMC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAArB;;AACA,IAAME,eAAe,GAAGF,OAAO,CAAC,kBAAD,CAA/B;;AACA,IAAMG,SAAS,GAAGH,OAAO,CAAC,aAAD,CAAzB;;AAEA,IAAMI,CAAC,GAAGH,KAAK,CAACI,aAAhB;AAEA;AACA;AACA;AACA;;IAEMC,S;;;;;;;;;SACJC,iB,GAAA,6BAAqB;AACnB,SAAKC,aAAL;AACD,G;;SAEDC,kB,GAAA,4BAAoBC,SAApB,EAA+B;AAC7B,QAAIA,SAAS,CAACC,IAAV,KAAmB,KAAKC,KAAL,CAAWD,IAAlC,EAAwC;AACtC,WAAKE,eAAL,CAAqBH,SAArB;AACA,WAAKF,aAAL;AACD;AACF,G;;SAEDM,oB,GAAA,gCAAwB;AACtB,SAAKD,eAAL;AACD,G;;SAEDL,a,GAAA,yBAAiB;AACf,QAAMG,IAAI,GAAG,KAAKC,KAAL,CAAWD,IAAxB;;AACA,QAAMI,OAAO;AACXC,MAAAA,EAAE,EAAE;AADO,OAER,KAAKJ,KAFG;AAGXK,MAAAA,MAAM,EAAE,KAAKC;AAHF,MAAb;;AAKA,WAAOH,OAAO,CAACJ,IAAf;AAEAA,IAAAA,IAAI,CAACQ,GAAL,CAASjB,eAAT,EAA0Ba,OAA1B;AAEA,SAAKK,MAAL,GAAcT,IAAI,CAACU,SAAL,CAAeN,OAAO,CAACC,EAAvB,CAAd;AACD,G;;SAEDH,e,GAAA,yBAAiBD,KAAjB,EAAqC;AAAA,QAApBA,KAAoB;AAApBA,MAAAA,KAAoB,GAAZ,KAAKA,KAAO;AAAA;;AACnC,QAAMD,IAAI,GAAGC,KAAK,CAACD,IAAnB;AAEAA,IAAAA,IAAI,CAACW,YAAL,CAAkB,KAAKF,MAAvB;AACD,G;;SAEDG,M,GAAA,kBAAU;AAAA;;AACR,WAAOnB,CAAC,CAAC,KAAD,EAAQ;AACdoB,MAAAA,GAAG,EAAE,aAACN,SAAD,EAAe;AAClB,QAAA,KAAI,CAACA,SAAL,GAAiBA,SAAjB;AACD;AAHa,KAAR,CAAR;AAKD,G;;;EA1CqBjB,KAAK,CAACwB,S;;AA6C9BnB,SAAS,CAACH,SAAV,GAAsB;AACpBQ,EAAAA,IAAI,EAAER,SAAS,CAACQ,IADI;AAEpBe,EAAAA,MAAM,EAAEvB,SAAS,CAACuB,MAFE;AAGpBC,EAAAA,MAAM,EAAE5B,SAAS,CAAC6B,IAHE;AAIpBC,EAAAA,SAAS,EAAE9B,SAAS,CAAC+B;AAJD,CAAtB;AAMAxB,SAAS,CAACyB,YAAV,GAAyB,EAAzB;AAGAC,MAAM,CAACC,OAAP,GAAiB3B,SAAjB","sourcesContent":["const PropTypes = require('prop-types')\nconst React = require('react')\nconst FileInputPlugin = require('@uppy/file-input')\nconst propTypes = require('./propTypes')\n\nconst h = React.createElement\n\n/**\n * React component that renders an area in which files can be dropped to be\n * uploaded.\n */\n\nclass FileInput extends React.Component {\n  componentDidMount () {\n    this.installPlugin()\n  }\n\n  componentDidUpdate (prevProps) {\n    if (prevProps.uppy !== this.props.uppy) {\n      this.uninstallPlugin(prevProps)\n      this.installPlugin()\n    }\n  }\n\n  componentWillUnmount () {\n    this.uninstallPlugin()\n  }\n\n  installPlugin () {\n    const uppy = this.props.uppy\n    const options = {\n      id: 'react:FileInput',\n      ...this.props,\n      target: this.container,\n    }\n    delete options.uppy\n\n    uppy.use(FileInputPlugin, options)\n\n    this.plugin = uppy.getPlugin(options.id)\n  }\n\n  uninstallPlugin (props = this.props) {\n    const uppy = props.uppy\n\n    uppy.removePlugin(this.plugin)\n  }\n\n  render () {\n    return h('div', {\n      ref: (container) => {\n        this.container = container\n      },\n    })\n  }\n}\n\nFileInput.propTypes = {\n  uppy: propTypes.uppy,\n  locale: propTypes.locale,\n  pretty: PropTypes.bool,\n  inputName: PropTypes.string,\n}\nFileInput.defaultProps = {\n}\n\nmodule.exports = FileInput\n"]}