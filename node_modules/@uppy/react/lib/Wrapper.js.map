{"version":3,"sources":["Wrapper.js"],"names":["React","require","PropTypes","uppyPropType","uppy","h","createElement","UppyWrapper","props","refContainer","bind","componentDidMount","installPlugin","componentDidUpdate","prevProps","uninstallPlugin","componentWillUnmount","plugin","getPlugin","mount","container","unmount","render","ref","Component","propTypes","string","isRequired","module","exports"],"mappings":";;;;;;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAMC,SAAS,GAAGD,OAAO,CAAC,YAAD,CAAzB;;AACA,IAAME,YAAY,GAAGF,OAAO,CAAC,aAAD,CAAP,CAAuBG,IAA5C;;AAEA,IAAMC,CAAC,GAAGL,KAAK,CAACM,aAAhB;;IAEMC,W;;;AACJ,uBAAaC,KAAb,EAAoB;AAAA;;AAClB,wCAAMA,KAAN;AAEA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB;AAHkB;AAInB;;;;SAEDC,iB,GAAA,6BAAqB;AACnB,SAAKC,aAAL;AACD,G;;SAEDC,kB,GAAA,4BAAoBC,SAApB,EAA+B;AAC7B,QAAIA,SAAS,CAACV,IAAV,KAAmB,KAAKI,KAAL,CAAWJ,IAAlC,EAAwC;AACtC,WAAKW,eAAL,CAAqBD,SAArB;AACA,WAAKF,aAAL;AACD;AACF,G;;SAEDI,oB,GAAA,gCAAwB;AACtB,SAAKD,eAAL;AACD,G;;SAEDH,a,GAAA,yBAAiB;AACf,QAAMK,MAAM,GAAG,KAAKT,KAAL,CAAWJ,IAAX,CACZc,SADY,CACF,KAAKV,KAAL,CAAWS,MADT,CAAf;AAGAA,IAAAA,MAAM,CAACE,KAAP,CAAa,KAAKC,SAAlB,EAA6BH,MAA7B;AACD,G;;SAEDF,e,GAAA,yBAAiBP,KAAjB,EAAqC;AAAA,QAApBA,KAAoB;AAApBA,MAAAA,KAAoB,GAAZ,KAAKA,KAAO;AAAA;;AACnC,QAAMS,MAAM,GAAGT,KAAK,CAACJ,IAAN,CACZc,SADY,CACF,KAAKV,KAAL,CAAWS,MADT,CAAf;AAGAA,IAAAA,MAAM,CAACI,OAAP;AACD,G;;SAEDZ,Y,GAAA,sBAAcW,SAAd,EAAyB;AACvB,SAAKA,SAAL,GAAiBA,SAAjB;AACD,G;;SAEDE,M,GAAA,kBAAU;AACR,WAAOjB,CAAC,CAAC,KAAD,EAAQ;AAAEkB,MAAAA,GAAG,EAAE,KAAKd;AAAZ,KAAR,CAAR;AACD,G;;;EA1CuBT,KAAK,CAACwB,S;;AA6ChCjB,WAAW,CAACkB,SAAZ,GAAwB;AACtBrB,EAAAA,IAAI,EAAED,YADgB;AAEtBc,EAAAA,MAAM,EAAEf,SAAS,CAACwB,MAAV,CAAiBC;AAFH,CAAxB;AAKAC,MAAM,CAACC,OAAP,GAAiBtB,WAAjB","sourcesContent":["const React = require('react')\nconst PropTypes = require('prop-types')\nconst uppyPropType = require('./propTypes').uppy\n\nconst h = React.createElement\n\nclass UppyWrapper extends React.Component {\n  constructor (props) {\n    super(props)\n\n    this.refContainer = this.refContainer.bind(this)\n  }\n\n  componentDidMount () {\n    this.installPlugin()\n  }\n\n  componentDidUpdate (prevProps) {\n    if (prevProps.uppy !== this.props.uppy) {\n      this.uninstallPlugin(prevProps)\n      this.installPlugin()\n    }\n  }\n\n  componentWillUnmount () {\n    this.uninstallPlugin()\n  }\n\n  installPlugin () {\n    const plugin = this.props.uppy\n      .getPlugin(this.props.plugin)\n\n    plugin.mount(this.container, plugin)\n  }\n\n  uninstallPlugin (props = this.props) {\n    const plugin = props.uppy\n      .getPlugin(this.props.plugin)\n\n    plugin.unmount()\n  }\n\n  refContainer (container) {\n    this.container = container\n  }\n\n  render () {\n    return h('div', { ref: this.refContainer })\n  }\n}\n\nUppyWrapper.propTypes = {\n  uppy: uppyPropType,\n  plugin: PropTypes.string.isRequired,\n}\n\nmodule.exports = UppyWrapper\n"]}